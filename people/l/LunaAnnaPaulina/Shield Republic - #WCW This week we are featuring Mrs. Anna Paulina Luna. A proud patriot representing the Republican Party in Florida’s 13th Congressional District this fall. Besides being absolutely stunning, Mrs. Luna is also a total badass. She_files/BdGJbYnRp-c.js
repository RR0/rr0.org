;/*FB_PKG_DELIM*/

__d("MFirefoxAppDetect",[],(function(a,b,c,d,e,f){function a(a,b){if(!navigator.mozApps){b();return}if(window.locationbar&&!window.locationbar.visible){a();return}if(navigator.mozApps.getSelf){var c=navigator.mozApps.getSelf();c.onsuccess=function(){c.result?a():b()};c.onerror=b}else b()}f.isFirefoxApp=a}),null);
__d("MPageHeaderLeft",["$","DOM","MFirefoxAppDetect"],(function(a,b,c,d,e,f,g){var h={};function i(a){if(!h.back_button){var b=c("$")("page");h.back_button=d("DOM").find(b,"a","back-button");h.menu_button=d("DOM").find(b,"a","menu-link")}a.show_back_button?(d("DOM").hide(h.menu_button),d("DOM").show(h.back_button)):(d("DOM").hide(h.back_button),d("DOM").show(h.menu_button))}function j(a){var b=window.navigator;b.standalone||h.isMozApp?i(a):h.isMozApp===void 0&&(h.lastConfig=a,d("MFirefoxAppDetect").isFirefoxApp(function(){h.isMozApp=!0,a===h.lastConfig&&(j(a),delete h.lastConfig)},function(){h.isMozApp=!1}))}g.main=j}),98);
__d("MUFICommentReplyLink",["DOM","MAjaxify","MParent","MRequest","MUFIConfig","MUFIInlineRepliesFunnelLogConfig","Stratcom","SubscriptionsHandler","ge"],(function(a,b,c,d,e,f,g){"use strict";var h="feed-ufi-comments";function a(a){var b=a.composerID,e=a.placeholderID,f=a.node,g=a.loadComposerURI,h=a.loggingTargetFBID,j=a.replyAuthorName,k=a.replyAuthorID;c("MUFIConfig").canReactToComment&&(f.href&&f.setAttribute("data-uri",f.href),f.removeAttribute("href"));var l=new(c("SubscriptionsHandler"))();l.addSubscriptions(d("DOM").listen(f,"click",null,function(a){i({composerID:b,placeholderID:e,loadComposerURI:g,loggingTargetFBID:h,replyAuthorName:j,replyAuthorID:k,onPreventDefault:function(){a.prevent()}})}),d("DOM").listen(f,"mousedown",null,function(a){c("Stratcom").invoke("MCommentComposer:replyButtonClick",null,{composerID:b})}),c("Stratcom").listen("m:page:unload",null,function(){l.release()}),c("Stratcom").listen("m:feed-ufi-flyout:reset",null,function(){l.release()}))}function b(a){var b=new(c("SubscriptionsHandler"))();b.addSubscriptions(c("Stratcom").listen("obj:finally",null,function(c){c=d("DOM").scry(a,"*","mufi-composer")[0];c&&c.focus&&c.focus();b.release()}))}function i(a){var b=a.composerID,e=a.placeholderID,f=a.loadComposerURI,g=a.loggingTargetFBID;a=a.onPreventDefault;g&&c("MUFIInlineRepliesFunnelLogConfig").MUFIInlineReplyComposerFunnelLogger&&c("MUFIInlineRepliesFunnelLogConfig").MUFIInlineReplyComposerFunnelLogger.logReplyClicked(g);g=c("ge")(b);b=g&&d("DOM").scry(g,"*","mufi-composer")[0];if(b){a();d("MParent").bySigil(g,h)?c("Stratcom").invoke("MUFICommentReplyLink:show-inline-composer",null,{composerRoot:g}):b.focus();return}g=c("ge")(e);if(g&&f){a();d("MAjaxify").ajaxify(null,g,new(c("MRequest"))(f),null);return}}g.initInlineRepliesWithMention=a;g.bindFocusInlineReplyComposerAfterPageFinish=b;g.focusOrLoadInlineReplyComposerWithMention=i}),98);
__d("MFRXWebFunnelLogger",[],(function(a,b,c,d,e,f){a={attachClickLogging:function(a,b,c,d,e){},removeStratcomListeners:function(){},attachStratcomClickLogging:function(a,b,c,d,e){},logEvent:function(a,b,c,d){}};e.exports=a}),null);
__d("MModalDialogLink",["MLegacyDataStore","MModalDialog","MPageController","Stratcom"],(function(a,b,c,d,e,f){var g="dialog-link";b("Stratcom").listen("click",g,function(a){a.prevent();var c=a.getNode(g);switch(c.getAttribute("rel")){case"dialog":b("MModalDialog").open(b("MLegacyDataStore").get(a.getNode(g)).dialogURI,function(a){a&&(a.redirectURI?b("MPageController").forceLoad(a.redirectURI):a.refresh&&b("MPageController").reload())},c.getAttribute("data-loading-title"));break;case"dialog-load":b("MModalDialog").load(b("MLegacyDataStore").get(a.getNode(g)).dialogURI,{dontPushState:!1,hideNavBar:!1},c.getAttribute("data-loading-title"));break;case"dialog-close":b("MModalDialog").close({redirectURI:b("MLegacyDataStore").get(a.getNode(g)).dialogURI,goBack:!0});break;case"dialog-close-and-navigate":b("MModalDialog").close({redirectURI:b("MLegacyDataStore").get(a.getNode(g)).dialogURI,goBack:!1});break;case"dialog-close-and-refresh":b("MModalDialog").close({refresh:!0,goBack:!0});break}})}),null);
__d("MAsyncThrobber",["DOM","MLoadingIndicator","Stratcom","destroyOnUnload"],(function(a,b,c,d,e,f){var g="async-throbber";a=function(){"use strict";function a(a){this.$1=b("MLoadingIndicator").init(a);if(!this.$1)return;this.$2=[b("Stratcom").listen("m:ajax:saving:start",null,this.$3.bind(this)),b("Stratcom").listen("m:ajax:saving:complete",null,this.$4.bind(this))];b("destroyOnUnload")(this.$5.bind(this))}var c=a.prototype;c.$3=function(a){a=a&&a.getData();a&&b("DOM").scry(a,"*",g)&&this.$1.willStartAnimation()};c.$4=function(a){a=a&&a.getData();a&&b("DOM").scry(a,"*",g)&&this.$1.willPauseAnimation()};c.$5=function(){while(this.$2&&this.$2.length)this.$2.pop().remove();this.$1=null};return a}();e.exports=a}),null);
__d("MTimestamp",["fbt","DOM","MLegacyDataStore","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=2e4,i=60,j=3600,k;function l(){var a=Math.floor(Date.now()/1e3),c=b("DOM").scry(document,"abbr","timestamp");for(var d=0,e=c.length;d<e;++d){var f=b("MLegacyDataStore").get(c[d]);f=m(a-f.time||0,f["short"],f.forceseconds);f&&(c[d].innerText=f)}clearTimeout(k);k=b("setTimeoutAcrossTransitions")(l,h)}function m(a,b,c){if(a>12*j)return null;if(a<2*i&&c)return g._({"*":"il y a {number} secondes"},[g._param("number",a,[0])]);if(a<2*i)return g._("\u00c0 l\u2019instant");if(a<j){c=Math.floor(a/i);return b?g._({"*":"{number} min"},[g._param("number",c,[0])]):g._({"*":"il y a {number} minutes"},[g._param("number",c,[0])])}c=Math.floor(a/j);if(b)return g._("{number} hr",[g._param("number",c)]);else if(c==1)return g._("Il y a une heure");return g._({"*":"il y a {number} heures"},[g._param("number",c,[0])])}l();b("Stratcom").listen("m:update-timestamps",null,function(){l()});f.renderTimestamp=m}),null);
__d("MActionBubbleHelper",["cx","CSS","ODS","Stratcom"],(function(a,b,c,d,e,f,g,h){var i="enabled_action";function a(a,b,e,f){d("ODS").bumpEntityKey(2966,"rrsurfaces","action_bubble.toggle_action."+String(b)+"."+e+"."+f),c("CSS").conditionClass(a,"_58a0",b),b?c("Stratcom").addSigil(a,i):c("Stratcom").removeSigil(a,i)}g.toggleActionBubbleItem=a}),98);
__d("MCommentActionsFlyout",["cx","Bootloader","CSS","DOM","MActionBubbleHelper","MLegacyDataStore","MModalDialog","MParent","MRequest","Stratcom","URI"],(function(a,b,c,d,e,f,g,h){var i="ban_user_from_page_comment_sigil",j="editCommentSigil",k="editHistoryCommentSigil",l="deleteCommentSigil",m="deleteCommentAndBlockAuthorSigil",n="deleteCommentAndRemoveAuthorSigil",o="hideCommentSigil",p="muteMemberSigil",q="reportCommentSigil",r="commentFlyoutSigil",s="removeTagSigil",t=!1;function u(a,b,c){a=d("DOM").find(a,"*",b);d("MActionBubbleHelper").toggleActionBubbleItem(a,c,"MCommentActionsFlyout",b)}function v(a,b,e){var f=d("DOM").find(a,"*",b),g=!!e.groupMuteCommenterInfo;d("MActionBubbleHelper").toggleActionBubbleItem(f,g,"MCommentActionsFlyout",b);if(g&&b===p){f=d("DOM").scry(a,"*",b)[0];c("CSS").conditionClass(f,"_4ob2",!e.groupMuteCommenterInfo.is_commenter_muted)}}function w(a){a=d("MParent").bySigil(a,"comment-metadata");return a}function x(a,b){b=d("MLegacyDataStore").get(b);a.addQueryData("_ft_",b.linkdata)}function y(a,b){x(b,a);a=new(c("MRequest"))(b);a.send()}function z(a,b,c){d("MModalDialog").open(b,c)}function A(){var a=w(this.getCausalElement()),b=this.getRoot();if(a==null)return;a=d("MLegacyDataStore").get(a);u(b,j,!!a.editCommentURI);u(b,k,!!a.editHistoryCommentURI);u(b,l,!!a.deleteCommentURI);u(b,m,!!a.deleteCommentAndBlockAuthorURI);u(b,n,!!a.deleteCommentAndRemoveAuthorURI);u(b,o,!!a.hideCommentURI);v(b,p,a);u(b,q,!!a.reportCommentURI);u(b,i,!!a.banUserFromPageURIParams&&!t);u(b,s,!!a.removeTagURI&&B())}function B(){return!1}function C(a){var b=d("MLegacyDataStore").get(a.getNode(r)),e=w(b.layer.getCausalElement());if(e==null)return;var f=d("MLegacyDataStore").get(e);if(a.getNode(j))y(e,new(c("URI"))(f.editCommentURI));else if(a.getNode(k))y(e,new(c("URI"))(f.editHistoryCommentURI));else if(a.getNode(l))y(e,new(c("URI"))(f.deleteCommentURI));else if(a.getNode(m))y(e,new(c("URI"))(f.deleteCommentAndBlockAuthorURI));else if(a.getNode(n))y(e,new(c("URI"))(f.deleteCommentAndRemoveAuthorURI));else if(a.getNode(s))y(e,new(c("URI"))(f.removeTagURI));else if(a.getNode(o))y(e,new(c("URI"))(f.hideCommentURI));else if(a.getNode(p))y(e,new(c("URI"))(f.groupMuteCommenterInfo.URI));else if(a.getNode(q)){var g=new(c("URI"))(f.reportCommentURI);f.reportIsModalDialog?z(e,g):y(e,g)}else a.getNode(i)&&(f.banUserFromPageURIParams&&c("Bootloader").loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(f.banUserFromPageURIParams.pageID,f.banUserFromPageURIParams.userID,f.banUserFromPageURIParams.userName,function(){t=!0})},"MCommentActionsFlyout"));b.layer.hide();a.kill()}var D,E;function a(a){if(D)return;D=a;var b=a.getRoot();c("Stratcom").addSigil(b,r);E=[c("Stratcom").listen("m:page:unload",null,function(){while(E.length>0)E.pop().remove();D=null}),a.addListener("beforeshow",A,a),d("DOM").listen(b,"click",null,C)]}g.registerFlyout=a}),98);
__d("MUFICommentLikeLink",["DOM","MLiveData","MUFIReactionsUtils","MUFIRequest","Stratcom","Style","SubscriptionsHandler","UFIReactionTypes"],(function(a,b,c,d,e,f,g){var h="1635855486666999";a=function(a){var b=this;this.onChange=function(){if(b.feedbackTarget.getData().request_id===b.requestID)return;var a=b.feedbackTarget.getData();a=a.viewerreaction;a&&!c("UFIReactionTypes").reactions[a]&&(a=null);var e,f;!a?(e="",f=c("UFIReactionTypes").reactions[c("UFIReactionTypes").LIKE].display_name):(e=c("UFIReactionTypes").reactions[a].color,f=c("UFIReactionTypes").reactions[a].display_name);d("DOM").setContent(b.likeLink,f);c("Style").set(b.likeLink,"color",e)};this.onClick=function(a){a.prevent();var e=b.feedbackTarget.getData(),f=e.has_viewer_liked,g=d("MUFIReactionsUtils").maybeConvertTokenToFBID(e.comment_id||e.ft_ent_identifier),i=f?c("UFIReactionTypes").NONE:c("UFIReactionTypes").LIKE,j=f?null:h,k=a.getNode("tag:a");k||(k=a.getNode("tag:div"));if(!k)return;c("Stratcom").hasSigil(b.likeLink,"kaios-like-react-trigger")&&f&&a.stop();f=d("MUFIRequest").getURI(k.getAttribute("href")||k.getAttribute("data-uri"));f.addQueryData("reaction_comment_id",g);f.addQueryData("viewer_reaction",i);d("MUFIRequest").send(b.feedbackTargetID,d("MUFIReactionsUtils").getReactionDataForComment(e,i,j),f)};this.onUnload=function(){b.subscriptions&&b.subscriptions.release()};this.likeLink=a.likeLink;this.requestID=a.requestID;this.feedbackTargetID=a.feedbackTargetID;this.feedbackTarget=d("MLiveData").get(a.feedbackTargetID);this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(d("DOM").listen(this.likeLink,"click",null,this.onClick.bind(this)),this.feedbackTarget.listen("change",this.onChange.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)));this.likeLink.href&&(this.likeLink.setAttribute("data-uri",this.likeLink.href),this.likeLink.removeAttribute("href"))};g["default"]=a}),98);
__d("MUFICommentReactionBadge",["cx","CSS","DOM","FeedbackReactionIDToTypeNumber","MLiveData","Stratcom","SubscriptionsHandler","UFIReactionIcons","UFIReactionTypes","createIxElement"],(function(a,b,c,d,e,f,g,h){var i=3,j=16;c("UFIReactionTypes").ordering.unshift(17);var k=c("UFIReactionTypes").ordering.reduce(function(a,b,c){a[b]=c;return a},{});a=function(a){var b=this;this.onChange=function(){if(b.feedbackTarget.getData().request_id===b.requestID)return;var a=b.feedbackTarget.getData(),e=a.reactioncountmapbyid,f=a.ufireactioniconsbyid,g=Object.keys(e).filter(function(a){a=e[a];return a&&a["default"]>0}).sort(function(a,b){var d=e[a]["default"],f=e[b]["default"];return d===f?k[c("FeedbackReactionIDToTypeNumber")(a)]-k[c("FeedbackReactionIDToTypeNumber")(b)]:f-d}).slice(0,i).map(function(a){var b=null;c("FeedbackReactionIDToTypeNumber")(a)===17?b=c("createIxElement")(f[a][j]):b=c("createIxElement")(c("UFIReactionIcons")[c("FeedbackReactionIDToTypeNumber")(a)][j]);a=d("DOM").create("span",{className:"_4edl"});d("DOM").appendContent(a,b);return a});c("CSS").conditionClass(b.reactionBadge,"_4edm",!!a.reactioncount);d("DOM").setContent(b.reactionBadge.firstChild,g);d("DOM").setContent(b.reactionBadge.lastChild,a.reactioncountreduced)};this.onUnload=function(){b.subscriptions&&b.subscriptions.release()};this.feedbackTarget=d("MLiveData").get(a.feedbackTargetID);this.reactionBadge=a.reactionBadge;this.requestID=a.requestID;this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.feedbackTarget.listen("change",this.onChange.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))};g["default"]=a}),98);
__d("XLiveCommentRenderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/live_comment/render/",{})}),null);
__d("MUFILiveComments",["cx","Bootloader","DOM","MLiveData","MParent","MRequest","MUFIReactionsUtils","Stratcom","SubscriptionsHandler","XLiveCommentRenderController"],(function(a,b,c,d,e,f,g,h){"use strict";var i="feed-ufi-comments",j="m-ufi";a=function(){function a(a,b){var e=this;this.onNewComment=function(a){a=a.getData();var b=a.feedbackTargetID,f=a.commentToken;if(b!==e.feedbackTargetID)return;var g=e.feedbackTarget.getData();if(!e.fetchedComments[f]){a=c("XLiveCommentRenderController").getURIBuilder().getURI();a=new(c("MRequest"))(a);a.setData({comment_token:f,dom_append_id:e.rootElement.id});a.listen("postprocess",function(){var a=g.comments||[];a.push(f);d("MLiveData").update(b,{comments:a});e.updateActivityUI(g.logging_interaction_key)});a.send();e.fetchedComments[f]=!0}};this.onUnload=function(){e.handler.release(),e.liveTypersCount=null};this.rootElement=a;this.activityElement=d("DOM").create("div",{className:"_623b"});this.rootElement.parentNode&&this.rootElement.parentNode.insertBefore(this.activityElement,this.rootElement.nextSibling);this.fetchedComments={};this.feedbackTargetID=b;this.feedbackTarget=d("MLiveData").get(this.feedbackTargetID);this.liveTypersCount=null;this.handler=new(c("SubscriptionsHandler"))();this.handler.addSubscriptions(c("Stratcom").listen("m:ufi:live-comments:new-comment",null,this.onNewComment.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)));this.getIsCommentFlyout()||this.initTypingIndicatorSubscription()}var b=a.prototype;b.initTypingIndicatorSubscription=function(){var a=this;c("Bootloader").loadModules(["MUFICommentTypingSubscriptionController"],function(b){b=new b(a.feedbackTargetID,function(b){a.liveTypersCount=b,a.updateActivityUI()});b.didSubscribe()&&a.handler.addSubscriptions(b)},"MUFILiveComments")};b.getIsCommentFlyout=function(){return!!d("MParent").bySigil(this.rootElement,i)};b.getCommentElement=function(a){a=d("MUFIReactionsUtils").maybeConvertTokenToFBID(a);return a?document.getElementById(a):null};b.updateActivityUI=function(a){var b=this;c("Bootloader").loadModules(["MReactComponentRenderer","MUFILiveCommentActivity.react"],function(e,f){var g=b.feedbackTarget.getData();e(f,b.activityElement,{comments:g.comments||[],feedbackTargetID:b.feedbackTargetID,isAnyLiveTyping:b.liveTypersCount&&b.liveTypersCount>0,disablePill:b.getIsCommentFlyout()});e=g.logging_interaction_key;f=e?[e]:[];a&&a!==e&&f.push(a);c("Stratcom").invoke("m:ufi:live-comments:render",null,{ufi:d("MParent").bySigil(b.rootElement,j),logKeys:f})},"MUFILiveComments")};return a}();g["default"]=a}),98);
__d("MUFISocialSentence",["cx","fbt","Bootloader","CSS","DOM","MLiveData","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){a=function(){"use strict";function a(a,c,d,e,f,g){if(!g&&!d)return;this.$1=a;this.$2=b("MLiveData").get(c);this.$3=e;this.$4=f;this.$5=g;this.$6=d;this.$7=new(b("SubscriptionsHandler"))();this.$7.addSubscriptions(this.$2.listen("change",this.onChange.bind(this)),b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var c=a.prototype;c.onChange=function(){var a=this,c=this.$2.getData();if(c.request_id===this.$4)return;b("CSS").removeClass(this.$1,"like_opt");var d=this.$5&&c.like_count?c[this.$3][0]:null,e=this.$6&&c.comment_count?c.comment_count:null;if(d&&d.text){this.$8={text:d,ftid:c.ft_ent_identifier};d=d.text;this.$6||b("Bootloader").loadModules(["MReactComponentRenderer","MUFISocialSentenceTextWithEntities.react"],function(b,c){b(c,a.$1,a.$8)},"MUFISocialSentence");return}if(d){var f=this.$3!=="like_counts"&&!c.like_fallback&&e?"div":"span";d=b("DOM").create(f,null,d);b("CSS").addClass(d,"_28wy")}e&&(e=e>1?h._({"*":"{count} Commentaires"},[h._param("count",e,[0])]):h._({"*":"{count} commentaire"},[h._param("count",e,[0])]),e=b("DOM").create("span",{},e),b("CSS").addClass(e,"_28wy"));b("DOM").setContent(this.$1,[d,e]);this.$9(c)};c.$9=function(a){var c=this.$5&&(a.like_count||a.reactioncount);a=this.$6&&a.comment_count;b("CSS").conditionShow(this.$1,!!(c||a))};c.onUnload=function(){this.$7.release(),this.$7=null};return a}();e.exports=a}),null);
__d("MActionBubbleLayout",["cx","CSS"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=null,this.$2=a}var c=a.prototype;c.enable=function(){this.$1=this.$2.addListener("adjustDimensions",this.$3.bind(this)),this.$2.isShown()&&this.$2.updatePosition()};c.disable=function(){this.$1.remove(),this.$1=null,this.$2.isShown()&&this.$2.updatePosition()};c.$3=function(){var a=this.$2;this.$4(!0);var b=this.$2.getContentRoot();b.clientWidth>=a.getMaxWidth()&&this.$4(!1)};c.$4=function(a){var c=this.$2;c.setWidth(a?"auto":"wide");c.applyWidth();b("CSS").conditionClass(c.getRoot(),"_55i0",a)};return a}();e.exports=a}),null);