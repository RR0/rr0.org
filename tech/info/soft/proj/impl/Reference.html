<!--#include virtual="/header-start.html" -->
<title>R�f�rences</title>
<!--#include virtual="/header-start.html" -->
<p><i>Reference.</i></p>
<section>
  <h2>Besoin</h2>
  <p>R�perer des <a href="../../prog/oo/java/Objet.html">objets</a>.</p>
</section>
<section>
  <h2>Analyse</h2>
  <p>Les r�f�rences peuvent �tre :</p>
  <ul>
    <li><strong>fermes</strong> (<em>strong</em>) car non encapsul�es dans des objets Reference.</li>
    <li><strong>douces</strong> (<em>soft</em>) et r�clamables par le <a href="../../prog/oo/java/GC.html">GC</a></li>
    <li><strong>faibles</strong> (<em>weak</em>) et r�clamables par le <a href="../../prog/oo/java/GC.html">GC</a></li>
    <li><strong>fant�mes</strong> (<em>phantom</em>), d�truit</li>
    <li><strong>inatteignables</strong></li>
  </ul>
</section>
<section>
  <h2>Conception</h2>
  <p>Une r�f�rence non fermes n'est pas point�e directement mais au travers d'un objet Reference qui l'encapsule et
    permet d'y acc�der. Cependant cet objet est constant et ne permet pas de modifier l'objet point�.</p>
</section>
<section>
  <h2>Impl�mentation</h2>
  <p>En Java les r�f�rences ...</p>
  <p><code>java.lang.ref Reference ReferenceQueue</code></p>
  <table>
    <tr>
      <td rowspan="2" class="titleCorner"></td>
      <th>Version</th>
      <th colspan="6">1</th>
      <th rowspan="3">
        <div>Commentaire</div>
      </th>
    </tr>
    <tr>
      <th>Release</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
    </tr>
    <tr>
      <th>El�ment</th>
      <th>Fixpack</th>
      <th>2</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
    <tr>
      <th colspan="2">Ferme</th>
      <td colspan="6" class="oui">Oui</td>
      <td><a href="../../prog/oo/java/Thread.html">Thread</a>-safe (synchronis�).</td>
    </tr>
    <tr>
      <th colspan="2">Douce</th>
      <td colspan="2" class="non">Non</td>
      <td colspan="4" class="oui">SoftReference</td>
      <td></td>
    </tr>
    <tr>
      <th colspan="2">Faible</th>
      <td colspan="2" class="non">Non</td>
      <td colspan="4" class="oui">WeakReference</td>
      <td></td>
    </tr>
    <tr>
      <th colspan="2">Fant�me</th>
      <td colspan="2" class="non">Non</td>
      <td colspan="4" class="oui">PhantomReference</td>
      <td>Planification des op�rations d'avant disparition de mani�re plus souple qu'avec <code>finalize()</code>.</td>
    </tr>
  </table>
</section>
<section>
  <h2>Exemples</h2>
  <p>Des exemples d'utilisation de r�f�rences sont :</p>
  <blockquote>
    <p><code>{<br/> Object <strong>stronglyReachable</strong> = new Object(); <span class="codeComment"> //
      Ne pourra dispara�tre qu'� la fin du bloc</span><br/> <strong> SoftReference</strong> objetCache = new <strong>SoftReference</strong>(data);
      <span class="codeComment">//
      data dispara�tra si besoin de m�moire</span><br/> <strong> WeakHashMap</strong> canonicalDictionary = new <strong>WeakHashMap</strong>();
      <span class="codeComment">//
      Les cl�s (et donc valeur) peuvent dispara�tre</span><br/> } </code></p>
  </blockquote>
</section>
<section>
  <h2>Limitations</h2>
  <ul>
    <li>En Java, pas d'acc�s brut � la m�moire comme avec les pointeurs (en <a href="../../prog/c">C</a>, <a
        href="../../prog/cpp/CPP.html">C++</a>, <a href="../../prog/pascal/langage">Pascal</a>, Assembleur, etc.). Ce
      probl�me offre l'avantage d'une plus grande robustesse (pas de crash) et s�curit� (pas de contournement de
      l'encapsulation des objets par acc�s direct � la m�moire).</li>
  </ul>
</section>
<!--#include virtual="/footer.html" -->
