<!--#include virtual="/header-start.html" -->
<title>Reflection</title>
<meta content="https://java.sun.com/j2se/1.5.0/docs/guide/reflection/spec/java-reflectionTOC.doc.html" name="url">
<!--#include virtual="/header-end.html" -->
<p>Réflexivité.</p>
<section>
  <h2>Besoin</h2>
  <p>Découvrir et invoquer dynamiquement des interfaces d'objets.</p></section>
<section>
  <h2>Analyse</h2>
  <p>La réflexivité permet :</p>
  <ul>
    <li>d'obtenir des informations <strong>statiques </strong>: classe et ses méthodes (constructeurs compris)</li>
    <li>d'exécuter des opérations <strong>dynamiques</strong> : appels de méthodes (constructeurs compris)</li>
  </ul>
  <p>Ces opérations sont soumises à des accréditations de sécurité (pas d'accès aux membres privés par exemple). </p>
</section>
<section>
  <h2>Exemples</h2>
  <p>Un exemple d'utilisation de la réflexivité est :</p>
  <blockquote>
    <p><code>Class objectClass = obj.<strong>getClass</strong>();<br/> String propertyName = <span class="codeString">"counter"</span>;<br/>
      String prop = Character.toUpperCase(propertyName.charAt(0)) + name.substring(1); <br/> <br/> String mname = <span
        class="codeString">"get"</span> + prop; <br/> Class[] types = new Class[] {}; <br/> <strong>Method</strong>
      method = objectClass.<strong>getMethod</strong>(mname, types); <span class="codeComment">// Getter</span> <br/>
      <br/> Object result = method.<strong>invoke</strong>(obj, new Object[0]); <br/> int value =
      ((Integer)result).intValue() + 1; <span class="codeComment">// Incrémente</span> <br/> <br/> mname = <span
        class="codeString">"set"</span> + prop; <br/> types = new Class[] { int.class }; <br/> method =
      objectClass.<strong>getMethod</strong>(mname, types); <span class="codeComment">       // Setter</span> <br/>
      <br/> method.<strong>invoke</strong>(obj, new Object[] { new Integer(value) });</code></p>
  </blockquote>
  <p>Des exemples d'utilisation de la réflexivité sont : </p>
  <ul>
    <li>l'<strong>introspection</strong> des <a href="/org/us/company/oracle/sun/ptf/java/api/se/beans">JavaBeans</a>,
      qui utilise la réflexivité pour identifier des motifs conforme à ses conventions (getters/setters). </li>
  </ul>
</section>
<!--#include virtual="/footer.html" -->
