"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5079],{21680:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(52322),a=n(67353),o=n(2784),i=n(88169),s=n(46973),l=n(75824),c=n(84314),u=n(30634);let d=e=>{let{breakpoint:t,isLoggedIn:n,largeBreakpointAction:r,refTagForLoginRedirect:a,smallBreakpointAction:o}=e,i=t.l||t.xl;return e=>{e.preventDefault(),i?n?r(e):(0,u.rf)(a):o(e)}};var h=e=>{let{contributeButton:t,contributeUrl:n,iframeClassName:u,smallBreakpointAction:h}=e,[m,p]=(0,o.useState)(!1),f=()=>p(!1),b=(0,c.n)(),g=(0,i.useBreakpointsAsConfig)(),w=e=>{e.stopPropagation()},k=d({isLoggedIn:b,breakpoint:g,smallBreakpointAction:h,largeBreakpointAction:e=>{e.stopPropagation(),e.preventDefault(),p(!0)}}),x=o.cloneElement(t,{"data-testid":"edit-action-button",href:n,onClick:k,onKeyDown:e=>{(0,a.isEnterOrSpaceKey)(e)&&k(e)}}),N=(0,l.N)({id:"common_ariaLabel_closePrompt",defaultMessage:"Close Prompt"});return(0,r.jsxs)(r.Fragment,{children:[x,!!m&&(0,r.jsx)("div",{onClick:w,onMouseLeave:w,"data-testid":"contribute-iframe-drawer-container",children:(0,r.jsx)(i.Drawer,{isOpen:m,onCloseClicked:f,side:"right",closePromptLabel:N,children:(0,r.jsx)(s.o,{src:n,onCloseMeCallback:f,className:u,"data-testid":"contribute-iframe"})})})]})}},46973:function(e,t,n){n.d(t,{o:function(){return c}});var r=n(52322),a=n(72779),o=n.n(a),i=n(2784),s=n(19596),l=n(39366);let c=e=>{let t=i.useRef(),n=()=>{t.current?.contentWindow?.location.href===(0,l.Pj)()&&e.onCloseMeCallback()};return i.useEffect(()=>(t.current?.addEventListener("load",n),()=>{t.current?.removeEventListener("load",n)}),[]),(0,r.jsx)(u,{"data-testid":"contribute-iframe",ref:t,src:e.src,className:o()(e.className)})},u=s.default.iframe.withConfig({componentId:"sc-cb131bbd-0"})(["height:calc(100vh - 6rem);width:100%;position:absolute;overflow-y:scroll;"])},39366:function(e,t,n){n.d(t,{OX:function(){return i},Pj:function(){return l},ix:function(){return c},nQ:function(){return o},zq:function(){return u}});var r,a,o,i,s=n(11778);let l=()=>(0,s.isDevStage)()||(0,s.isLocalStage)()?"https://www.dev.imdb.com/close_me":(0,s.isGammaStage)()?"https://www.preprod.imdb.com/close_me":"https://www.imdb.com/close_me",c="consumer";(r=o||(o={})).FAQ="faq",r.IMAGE="image",r.PARENTAL_GUIDE="parentalGuide",r.REVIEW="review",(a=i||(i={})).ADD="add",a.EDIT="edit",a.REPORT="report";let u={open:"contrib-modal-open",close:"contrib-modal-close"}},31769:function(e,t,n){n.d(t,{Tz:function(){return en},ZP:function(){return ea}});var r=n(52322),a=n(77725),o=n(72779),i=n.n(o),s=n(2784),l=n(88169),c=n(75824),u=n(11438),d=n(14438),h=n(37179),m=n(27951),p=n(83163),f=n(48687);let b={id:"shareMenu_ariaLabel_shareOnSocialMedia",defaultMessage:"Share on social media"},g={id:"shareMenu_shareText_checkoutThisLink",defaultMessage:"Check out this link on IMDb!"},w={id:"shareMenu_copyLink",defaultMessage:"Copy link"},k={id:"shareMenu_emailLink",defaultMessage:"Email link"},x={id:"shareMenu_sharePage",defaultMessage:"Share page"},N={id:"shareMenu_shareFailed",defaultMessage:"Share failed. Please try again later."},_=e=>"string"==typeof e?e:(0,c.N)(e);var I=n(86528),v=n(14865),E=n(67353),S=n(72282),P=n.n(S),C=n(19596),L=n(47069),y=n(1833),A=n(21680),j=n(39366),M=n(64846),T=n.n(M);let R="ref_",D="ext_shr_lnk",U=(e,t,n,r)=>({shareLabelText:e,shareLinkUrl:t,shareIconName:n,shareLinkTarget:r}),O=e=>{let[t,n]=e.split("?"),r={};if(n)for(let e of n.split("&")){let[t,n]=e.split("=");r[t]=n}return[t,r]},B=(e,t)=>{let n=encodeURIComponent(_(t.emailSubject)),r=encodeURIComponent(_(t.shareBody)),[a,o]=O(decodeURIComponent(e)),i=encodeURIComponent(a+"?"+new URLSearchParams({...o,[R]:"ext_shr_fb"}).toString()),s=encodeURIComponent(a+"?"+new URLSearchParams({...o,[R]:"ext_shr_tw"}).toString()),l=encodeURIComponent(a+"?"+new URLSearchParams({...o,[R]:"ext_shr_em"}).toString()),c=`https://twitter.com/intent/tweet?text=${r} - ${s}`,u=`mailto:?subject=${n}&body=${r} - ${l}`;return[U("Facebook",`https://www.facebook.com/sharer.php?u=${i}`,"facebook","_blank"),U("Twitter",c,"twitter","_blank"),U(k,u,"email","_blank"),U(w,a+"?"+new URLSearchParams({...o,[R]:D}).toString(),"link","_copy")]},H=e=>{let[t,n]=O(e);return t+"?"+new URLSearchParams({...n,[R]:D}).toString()},K=e=>[U(x,H(e),"share","_blank")],F=(e,t)=>{let n=H($(t));(0,m.It)(window.navigator,{url:n},e)},$=e=>{if(v.isNode)throw Error("not supported from node");let t=e??window.location.href,n=new(T())(t,window.location,!0),r=n.query;return delete r.ref_,n.set("query",n.query),n.host||n.set("host",window.location.host),n.toString()};function q(e){return!!e&&e.length>0}let V={email:"share-em",facebook:"share-fb",twitter:"share-tw",link:"share-lnk"},z={email:u.Cd.EMAIL,facebook:u.Cd.FACEBOOK,twitter:u.Cd.TWITTER,link:u.Cd.LINK},X="link",G=C.default.div.withConfig({componentId:"sc-49643586-0"})(["cursor:pointer;"]);var Z=e=>{let t=(0,d.EO)(),{sendSnack:n}=(0,l.useSnackbar)(),a=(0,f.hg)({weblabID:p.lh.IMDB_NEXT_EXPERIMENT_NATIVE_SHARE_IN_SHARE_BUTTON_993877,treatments:{T1:!0}}),o=(0,c.N)({id:"common_linkCopied",defaultMessage:"Link copied"}),s=(0,c.N)(N);if(v.isNode)return null;let h=r=>a=>{a.stopPropagation(),(0,L.P)(V[r.shareIconName]),t({refMarkerSuffix:[u.Cd.SHARE,z[r.shareIconName]],pageAction:V[r.shareIconName]}),e.interactionHandler(r.shareLinkUrl)&&a.preventDefault(),r.shareIconName===X&&n({primaryText:o,type:"auto"})},b=t=>n=>{n.stopPropagation(),F(g,t.shareLinkUrl),e.interactionHandler(t.shareLinkUrl)&&n.preventDefault()},g=e=>{e?.name!=="AbortError"&&n({primaryText:s,baseColor:"accent3",type:"auto"})},w=e=>(0,r.jsx)(l.ListItem,{preIconName:e.shareIconName,target:e.shareLinkTarget,className:i()(["sharemenu-listitem","sharemenu-nativeshare"]),onClick:t=>t&&b(e)(t),onKeyDown:t=>t&&(0,E.isEnterOrSpaceKey)(t)&&b(e)(t),children:_(e.shareLabelText)},e.shareIconName),k=e=>(0,r.jsx)(P(),{text:e.shareLinkUrl,options:{format:"text/plain"},children:(0,r.jsx)(l.ListItem,{className:i()(["sharemenu-listitem","sharemenu-copylink"]),preIconName:X,onClick:t=>t&&h(e)(t),onKeyDown:t=>t&&(0,E.isEnterOrSpaceKey)(t)&&h(e)(t),children:_(e.shareLabelText)})},"copy-to-clipboard"),x=e=>(0,r.jsx)(l.ListItem,{preIconName:e.shareIconName,href:e.shareLinkUrl,target:e.shareLinkTarget,className:"sharemenu-listitem",onClick:t=>t&&h(e)(t),onKeyDown:t=>t&&(0,E.isEnterOrSpaceKey)(t)&&h(e)(t),children:_(e.shareLabelText)},e.shareIconName),I=$(e.url),S=e.shareProps?.suppressDefaultActions?[]:(0,m.v_)(window.navigator)&&a?K(I).map(e=>w(e)):B(I,e.shareProps).map(e=>"_copy"===e.shareLinkTarget?k(e):x(e)),C=(e,t,n)=>{let a=e.linkUrl,o={contributeButton:(0,r.jsx)(G,{onMouseLeave:e=>e.stopPropagation(),"data-testid":"extra-contribute-action-"+t,children:(0,r.jsx)(l.ListItem,{className:i()([e.className,"sharemenu-listitem"]),preIconName:e.iconName,postIconName:e.postIconName,children:_(e.label)},e.iconName+"-"+n)}),contributeUrl:(0,y.oq)(a,(0,j.Pj)(),!0),iframeClassName:"contribute-extra-action-"+t,smallBreakpointAction:()=>{window.open((0,y.oq)(a,window.location.href,!0),"_self")}};return(0,r.jsx)(A.Z,{...o},n)},M=(t,n)=>{let a=t.linkUrl;return(0,r.jsx)(l.ListItem,{className:i()([t.className,"sharemenu-listitem"]),preIconName:t.iconName,postIconName:t.postIconName,href:a,target:t.linkTarget,onClick:n=>{if(t.onSelect)t.onSelect(n);else{n.stopPropagation();let r=!1;t.handler&&t.handler(a)&&(r=!0),e.interactionHandler(a)&&(r=!0),r&&n.preventDefault()}},onKeyDown:e=>{(0,E.isEnterOrSpaceKey)(e)&&t.onSelect&&t.onSelect(e)},"data-testid":t.testId,children:_(t.label)},t.iconName+"-"+n)};if(q(e.shareProps.extraActions)){let t=e.shareProps.extraActionsFirst?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.unshift(...t)}:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.push(...t)};t((0,r.jsx)(l.ListDivider,{},"divider"));let n=0,a=[];e.shareProps.extraActions?.forEach((e,t)=>{e.isContributionAction?(n+=1,a.push(C(e,n,t))):a.push(M(e,t))}),t(...a)}return(0,r.jsx)(l.List,{"data-testid":"share-menu-list",className:"sharemenu-list",children:S})};let Q=e=>(0,r.jsx)(l.BottomSheet,{isOpen:e.menuVisibility,onCloseClicked:()=>e.interactionHandler(),"data-testid":"share-bottom-sheet",closePromptLabel:(0,c.N)({id:"common_ariaLabel_closePrompt",defaultMessage:"Close Prompt"}),children:(0,r.jsx)(Z,{...e})});var W=n(9162),J=n(11307);let Y=e=>{let t=()=>e.interactionHandler();return(0,s.useEffect)(()=>(window.addEventListener("click",t),()=>window.removeEventListener("click",t)),[]),(0,r.jsx)(J.l,{onMouseLeave:t,"data-testid":"share-container",children:(0,r.jsx)(l.SetPalette,{palette:"dark",children:(0,r.jsx)(l.Menu,{menuID:"media-details-share-button",isVisible:e.menuVisibility,mode:"anchored",children:(0,r.jsx)(W.Y,{onClickOutside:t,onEscapeKey:t,children:(0,r.jsx)(Z,{...e})})})})})},ee=e=>{let t=(0,l.useBreakpointsAsConfig)(),n=t.s||t.xs,a=e.forceBottomSheet||n;return(0,r.jsx)(I.Z,{children:(0,r.jsx)(a?Q:Y,{...e})})},et=e=>({shareBody:e?.shareBody??g,emailSubject:e?.emailSubject??g,label:e?.label??b,extraActions:e?.extraActions,suppressDefaultActions:e?.suppressDefaultActions,extraActionsFirst:e?.extraActionsFirst}),en=e=>(0,r.jsx)(u.xm,{value:u.Cd.SHARE,children:(0,r.jsx)(er,{...e})}),er=e=>{let[t,n]=(0,s.useState)(!1),{value:o}=(0,u.Lz)(),b=(0,d.EO)(),{sendSnack:g}=(0,l.useSnackbar)(),w=(0,f.hg)({weblabID:p.lh.IMDB_NEXT_EXPERIMENT_NATIVE_SHARE_IN_SHARE_BUTTON_993877,treatments:{T1:!0}}),k=(0,c.N)(N),x=et(e.shareProps),I=e=>{e?.name!=="AbortError"&&g({primaryText:k,baseColor:"accent3",type:"auto"})},v=()=>{n(!t)},E=_(x.label||""),S={shareProps:x,url:e.url,forceBottomSheet:!!e.forceBottomSheet,interactionHandler:t=>(n(!1),!!t&&!!e.shareHandler&&e.shareHandler(t)),menuVisibility:t};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.IconButton,{disabled:e.disabled,name:e.iconButtonName??"share",label:E,onClick:t=>{t.stopPropagation(),b({pageAction:h.QJ.MENU_OPEN,hitType:a.Re.POP_UP,refMarkerString:o}),(0,m.v_)(window.navigator)&&!q(e.shareProps?.extraActions)&&w?F(I,e.shareProps?.url):v()},className:i()("sharemenu-iconbutton",e.className),onColor:e.onColor,"data-testid":"share-button"}),(0,r.jsx)(ee,{...S})]})};var ea=en},11307:function(e,t,n){n.d(t,{l:function(){return r}});let r=n(19596).default.div.withConfig({componentId:"sc-eece9490-0"})(["position:relative;right:0;top:0;text-align:left;z-index:11;"])},34231:function(e,t,n){n.d(t,{z:function(){return s}});var r=n(5632),a=n(49666),o=n(66093),i=n(1833);let s=e=>{let t=(0,r.useRouter)(),n=(0,a.ik)();if(!e||n)return;let o=t?.asPath?.split("?")[0],s=(0,i.PD)(o),c=l(s),u=`${i.l8}${s}`;return[{language:"x-default",url:u},{language:"en",url:u},...c]},l=e=>Object.values(o.RF).map(t=>({language:t,url:`${i.l8}/${t}${e}`}))},27951:function(e,t,n){n.d(t,{It:function(){return a.I},v_:function(){return r.v}});var r=n(56307),a=n(58809)},56307:function(e,t,n){n.d(t,{v:function(){return r}});let r=e=>{let t=/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(e.userAgent),n=!!e.share,r=!!e.canShare,o=r&&e.canShare(a);return t&&n&&r&&o},a={title:"test",text:"test",url:"imdb.com",files:[new File(["test"],"test.png",{type:"image/png"})]}},58809:function(e,t,n){n.d(t,{I:function(){return r}});let r=async(e,t,n)=>{try{await e.share(t)}catch(e){n(e)}}}}]);