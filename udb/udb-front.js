(function(r){var n={};function i(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,i);t.l=true;return t.exports}i.m=r;i.c=n;i.d=function(e,t,r){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(t,e){if(e&1)t=i(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var r=Object.create(null);i.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=3)})([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Util=void 0;var n=function(){function e(){}e.forEachBit=function(e,t){var r=e;for(var n=0;n<8;n++){var i=r&1;if(i){t(n)}r=r>>1}};e.trimZeroEnd=function(e){var t=e.indexOf("\0");if(t>0){e=e.substring(0,t)}return e};e.copy=function(e){return JSON.parse(JSON.stringify(e))};e.sortProps=function(t,e){var r={};Object.keys(t).sort(e).forEach(function(e){r[e]=t[e]});return r};return e}();t.Util=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,a,r,s){function c(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(t,r){function n(e){try{o(s.next(e))}catch(e){r(e)}}function i(e){try{o(s["throw"](e))}catch(e){r(e)}}function o(e){e.done?t(e.value):c(e.value).then(n,i)}o((s=s.apply(e,a||[])).next())})};var i=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,o&&(a=t[0]&2?o["return"]:t[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;if(o=0,a)t=[t[0]&2,a.value];switch(t[0]){case 0:case 1:a=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;o=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(a=n.trys,a=a.length>0&&a[a.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(t[0]===6&&n.label<a[1]){n.label=a[1];a=t;break}if(a&&n.label<a[2]){n.label=a[2];n.ops.push(t);break}if(a[2])n.ops.pop();n.trys.pop();continue}t=r.call(e,n)}catch(e){t=[6,e];o=0}finally{i=a=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});t.RecordEnumerator=void 0;var o=function(){function e(e,t,r){this.input=e;this.recordIndex=t;this.maxCount=r;this.count=0;this.input.goToRecord(this.recordIndex)}e.prototype.hasNext=function(){return this.count<this.maxCount&&this.input.hasNext()};e.prototype.next=function(){return n(this,void 0,void 0,function(){var t;return i(this,function(e){this.input.goToRecord(this.recordIndex);t=this.input.readRecord(this.recordIndex);this.recordIndex++;this.count++;return[2,t]})})};return e}();t.RecordEnumerator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Geo=void 0;var s={SIB:"Siberia",STP:"Saint Petersburg",EST:"Estonia",SRB:"Serbia",LIT:"Lituania",AFR:"Africa",IVC:"Ivory Coast",PGF:"Persian Gulf",SAH:"Sahara",DMK:"Danemark",WAL:"Wales?",WLS:"Wales",BRL:"Berlin",GRC:"Greece",SAI:"Saigon",SKR:"South Korea",MRC:"Maracaibo",DRK:"Dark side"};var n=function(){function i(){}i.ddToDms=function(e,t){var r=i.getDms(e)+" ";r+=!e?"Q":e>0?"N":"S";var n=i.getDms(t)+" ";n+=!t?"Z":t>0?"E":"W";return"".concat(r," ").concat(n)};i.getDms=function(e){e=Math.abs(e);var t=Math.floor(e);var r=Math.floor((e-t)*60);var n=Math.round((e-t-r/60)*3600*1e3)/1e3;if(n>=60){r++;n=0}if(r>=60){t++;r=0}var i=t+"º";i+=(r<10?"0"+r:r)+"'";i+=(n<10?"0"+n:n)+'"';return i};i.getLocale=function(e){var t=e.locale;return i.locales[t]?i.locales[t]:"locale#"+t};i.getElevation=function(e){var t=e.elevation;return t!==-99?t:""};i.getRelativeAltitude=function(e){var t=e.relativeAltitude;return t!==999?t:""};i.getCountry=function(e,t){var r=e.countries[t];return r?r.name?r:{name:r}:{name:"country#"+t}};i.getStateOrProvince=function(e,t){var r=t.stateOrProvince;var n;var i;do{var o=r.lastIndexOf(".");i=o>0;if(i){n=o;r=r.substring(0,n)}}while(i);var a;if(e.statesOrProvinces){a=e.statesOrProvinces[r]}else{a=s[r]}return a?a:r};i.getContinent=function(e){return i.continents[e]?i.continents[e]:{name:"continent#"+e,countries:{}}};i.continents={0:{name:"North America",description:"Actual Continent including Central America",countries:{1:{name:"Canada",statesOrProvinces:{ALB:"Alberta",ALT:"Alta",BCO:"British Columbia",MBA:"Manitoba",NBR:"New Brunswick",NFL:"Newfoundland",NSC:"Nova Scotia",NWT:"Northwest Territories",ONT:"Ontario",QBC:"Quebec",SSK:"Sasketchewan",YUK:"Yukon",PEI:"Prince Edward Island"}},2:{name:"USA",statesOrProvinces:{ALA:"Alabama",ALB:"Alabama",ALS:"Alaska",ARK:"Arkansas",ARZ:"Arizona",CLR:"Colorado",CNN:"Connecticut",DLW:"Delaware",FLR:"Florida",GRG:"Georgia",HWI:"Hawaii",IOW:"Iowa",KNT:"Kentucky",MNE:"Maine",MNT:"Montana",MSC:"Massachusetts",MSO:"Missouri",MSP:"Mississippi",NBR:"Nebraska",NCR:"North Carolina",NDK:"North Dakota",OHI:"Ohio",ORE:"Oregon",SCR:"South Carolina",SDK:"South Dakota",UTA:"Utah",WVA:"Western Virginia",WSH:"Washington",NMX:"New Mexico",MNS:"Minnesota",WSC:"Wisconsin",PNS:"Pennsylvania",NJR:"New Jersey",ME:"Maine",PRC:"Puerto Rico",TNS:"Tennessee",WYO:"Wyoming",CNC:"Connecticut",LSN:"Louisiana",RHD:"Rhode Island",CLF:"California",NVD:"Nevada",KNS:"Kansas",ILN:"Illinois",IND:"Indiana",TXS:"Texas",MCH:"Michigan",MLD:"Maryland",KNY:"Kentucky",IDH:"Idaho",NYK:"New York",NHM:"New Hampshire",OKL:"Oklahoma",VRG:"Virginia",VRM:"Vermont"}},3:{name:"Mexico",statesOrProvinces:{SNL:"Sinaloa",CHH:"Chihuahua",BCN:"Baja California",SNR:"Sonora"}},4:"Guatemala",5:"Belize",6:"Honduras",7:"El Salvador",8:"Nicaragua",9:"Costa Rica",10:{name:"Panama",statesOrProvinces:{CNZ:"Canal Zone"}}}},1:{name:"South America",description:"Actual Continent",countries:{1:{name:"Brazil",statesOrProvinces:{AMZ:"Amazonas",BAH:"Bahia",MG:"Minas Gerais",RIO:"Rio",SPL:"São Paulo"}},2:"Paraguay",3:"Uruguay",4:{name:"Argentina",statesOrProvinces:{BNA:"Buenos Aires",JJY:"Juhuy"}},5:{name:"Chile",statesOrProvinces:{ANT:"Antofagasta",ATC:"Atacama"}},6:"Bolivia",7:{name:"Peru",statesOrProvinces:{ARQ:"Arequipa"}},8:"Ecuador",9:{name:"Colombia",statesOrProvinces:{BGT:"Bogota  "}},10:"Venezuela",11:{name:"Guyanas (all 3 of them)",statesOrProvinces:{SRN:"Surinam"}}}},2:{name:"Oceania",countries:{1:{name:"Australia",statesOrProvinces:{ACT:"Australian Capital Territory",VCT:"Victoria",NTR:"Northern Territory",QLD:"Queensland",SAU:"South Australia",WAU:"Western Australia"}},2:"New Zealand",3:{name:"Atlantic Ocean + islands",statesOrProvinces:{AZR:"Azores",BAH:"Bahamas",BRM:"Bermuda"}},4:"Pacific Ocean and non-Asian islands",5:"Caribbean area",6:"Indian Ocean + islands",7:"Arctic above 70 degrees North",8:{name:"Antarctic below 70 degrees South",statesOrProvinces:{VST:"Vostok"}},9:"Iceland",10:"Greenland"}},3:{name:"Western Europe",countries:{1:{name:"Great Britain and Ireland",statesOrProvinces:{IRL:"Ireland",ENG:"England",SCT:"Scotland",NI:"Northern Ireland"}},2:{name:"Scandanavian and Finland",statesOrProvinces:{NRW:"Norway",FNL:"Finland",SWD:"Sweden",DMK:"Danemark"}},3:{name:"Germany",statesOrProvinces:{BDW:"Bade-Wurtemberg",BVR:"Bavaria",SXN:"Saxony",VNN:"Vienna"}},4:{name:"Belgium, Netherlands and Luxembourg",statesOrProvinces:{BLG:"Belgium",NTH:"Netherlands"}},5:{name:"France",statesOrProvinces:{ARG:"Ariège",AUB:"Aube",AUD:"Aude",AIN:"Ain",ALR:"Allier",AND:"Andorre",AVR:"Aveyron",BLF:"Territoire de Belfort",BRH:"Bas-Rhin",SMR:"Seine Maritime",ADC:"Ardèche",ASN:"Aisne",ADN:"Ardennes",AMR:"Alpes Maritimes",AHP:"Alpes de Haute Provence",BDR:"Bouches-du-Rhône",CDO:"Côte-d'Or",CHM:"Charente-Maritime",CHN:"Charente",CHR:"Cher",CLV:"Calvados",CNT:"Cantal",CRS:"Creuse",DBS:"Doubs",DRD:"Dordogne",DRM:"Drôme",DSV:"Deux-Sèvres",ESN:"Essonne","E&L":"Eure-et-Loir",FNS:"Finistère",FRB:"Bretagne",GRD:"Gard",GRN:"Gironde",GRS:"Gers  ","M&M":"Meurthe-et-Moselle",HAL:"Hautes Alpes",HCS:"Haute Corse",HGR:"Haute Garonne",HLR:"Haute-Loire",HPY:"Hautes-Pyrénées",HRL:"Hérault",HRH:"Haut-Rhin",HSA:"Haute-Saône",HVN:"Haute-Vienne","I&L":"Indre-et-Loire","I&V":"Ille-et-Vilaine",INR:"Indre",ISR:"Isère",JRA:"Jura","L&C":"Loir-et-Cher","L&G":"Lot-et-Garonne",LOI:"Loire",LRE:"Loire",LRT:"Loiret",LOT:"Lot",LRA:"Loire Atlantique",LND:"Landes",LZR:"Lozère",PRS:"Paris","M&L":"Maine-et-Loire",MNC:"Manche",MRB:"Morbihan",MRN:"Marne",MSE:"Meuse",MSL:"Moselle",NRD:"Nord",NVR:"Nièvre",OIS:"Oise",PDC:"Pas-de-Calais",PDD:"Puy-de-Dôme",PYO:"Pyrénées-Orientales",RHN:"Rhône","S&L":"Saône-et-Loire","S&M":"Seine-et-Marne",SMM:"Somme","T&G":"Tarn-et-Garonne",TRN:"Tarn",VAR:"Var",VCL:"Vaucluse",VDM:"Val-de-Marne",VNN:"Vienne",VND:"Vendée",VSG:"Vosges",YVL:"Yvelines"}},6:{name:"Spain",statesOrProvinces:{ALB:"Albacete",BDJ:"Badajoz",BRC:"Barcelone",BRG:"Burgos",CNC:"Cuenca",GRN:"Grenada",VLN:"Valencian"}},7:{name:"Portugal",statesOrProvinces:{ALG:"Algarve",BRL:"Beira littoral",DRO:"Douro"}},8:{name:"Austria",statesOrProvinces:{UAU:"Upper Austria"}},9:{name:"Italy",statesOrProvinces:{AL:"Alessandria",AQ:"Aquila",ASC:"Ascoli Piceno",AN:"Ancona",BS:"Brescia",BA:"Bari",BG:"Bergamo",BO:"Bologna",CA:"Cagliari",CMP:"Campania",CUN:"Cuneo",GR:"Grosseto",FI:"Firenze",MI:"Milano",LMB:"Lombardy",LU:"Lucques",PDA:"Padua",PDM:"Piedmont",SGV:"Segovia",TO:"Torino",VA:"Varese"}},10:{name:"Switzerland",statesOrProvinces:{VAU:"Vaud",BRN:"Berne",BSL:"Basel"}},11:"Greece and Island nations"}},4:{name:"Eastern Europe",countries:{1:{name:"Poland",statesOrProvinces:{WRS:"Warsaw",KRK:"Krakow"}},2:"Czech and Slovak Republics",3:"Hungary",4:{name:"Former Yugoslavia",description:"Province field indicates present republics"},5:{name:"Romania",statesOrProvinces:{BCU:"Bacău",BHR:"Bihor",BSV:"Brasov",BUC:"Bucharest",BCH:"Bucharest",CNS:"Constanța"}},6:{name:"Bulgaria",statesOrProvinces:{SOF:"Sofia"}},7:"Albania",8:{name:"Estonia, Latvia & Lithuania",statesOrProvinces:{LTH:"Lithuania",LTV:"Latvia"}},9:"Belorus",10:"Ukraine"}},5:{name:"Asia Mainland",countries:{1:{name:"Red China",statesOrProvinces:{ANH:"Anhui",BEI:"Beijing",JNS:"Jiangsu",JNX:"Jianxi",SHD:"Shandong"}},2:"Mongolia",3:{name:"India",statesOrProvinces:{MHR:"Maharashtra"}},4:"Pakistan",5:{name:"Afghanistan",statesOrProvinces:{GHZ:"Ghazni"}},6:{name:"Himalayan states",description:"Nepal, Bhutan, Shangri-la etc."},7:"Bangladesh",8:"Burma",9:{name:"Korea",description:"both sides"}}},6:{name:"Asia Pacific",countries:{1:{name:"Japan",statesOrProvinces:{KYU:"Kyushu"}},2:"Philippines",3:"Taiwan China",4:"Vietnam",5:"Laos",6:"Cambodia",7:"Thailand",8:"Malaysia",9:"Indonesia"}},7:{name:"Northern and Northwest Africa",decription:"North of the Equator",countries:{1:"Egypt",2:"Sudan",3:"Ethiopia",4:"Libya",5:"Tunisia",6:{name:"Algeria",statesOrProvinces:{ALG:"Alger",ORN:"Oran",LAM:"Lamoriciere",BOU:"Boukanefis  ",MOS:"Mostaganem",CNS:"Constantine",BCH:"Bechar",ANB:"Annaba"}},7:{name:"Morocco",statesOrProvinces:{AGD:"Agadir"}},8:{name:"Sahara",description:"includes Chad, Niger, Mali, Mauritania and Upper Volta"},9:"Ivory Coast, Ghana, Togo, Benin, Liberia.",10:"Nigeria"}},8:{name:"Southern Africa",countries:{1:{name:"Republic of South Africa",statesOrProvinces:{NTL:"KwaZulu-Natal",OFS:"Orange Free State"}},2:{name:"Zimbabwe & Zambia",description:"Rhodesia"},3:"Angola",4:{name:"Kalahari Desert",description:"Botswana etc."},5:"Mozambique",6:"Tanzania",7:"Uganda",8:"Kenya",9:"Somalia",10:{name:"Congo states",description:"includes Congo, Zaire, Central Afr Rep, Rwanda, Burundi.."},11:"Ivory Coast,Ghana,Togo,Benin,Liberia etc.",12:"Nigeria."}},9:{name:"Russia and former soviet",countries:{1:{name:"Russia",description:"includes various ethnic Okrugs, all within the former RSFSR",statesOrProvinces:{LEN:"Leningrad"}},2:{name:"Georgia",statesOrProvinces:{ABK:"Abkhazia"}},3:"Armenia",4:"Azerbaijan",5:{name:"Kazakh Republic",statesOrProvinces:{ALM:"Alma"}},6:"Turkmen Republic",7:"Uzbek Republic",8:"Tadzhik Republic"}},10:{name:"Middle East",countries:{1:{name:"Turkey",statesOrProvinces:{ANK:"Ankara"}},2:"Syria",3:{name:"Iraq",statesOrProvinces:{CHL:"Chaldea"}},4:"Iran",5:{name:"Jordan",statesOrProvinces:{AMN:"Amman"}},6:"Israel",7:{name:"Arabian Peninsula",description:"(not Kuwait)"},8:"Kuwait",9:"Cyprus",10:{name:"Lebanon",statesOrProvinces:{TYR:"Tyre",BEI:"Beirut",BRT:"Beirut"}}}},11:{name:"Space",countries:{1:"Earth Orbit. Space stations, capsules. Astronauts & Cosmonauts.",2:"The Moon",3:"Venus",4:"Mars",5:"Asteroids",6:"Jupiter",7:"Saturn",8:"Uranus",9:"Neptune",10:"Deep Space",11:"Pluto"}}};i.locales={0:"Metropolis",1:"Residential",2:"Town & city",3:"Farmlands",4:"Pasture",5:"Oil & coal",6:"Tundra",7:"Desert",8:"Mountains",9:"Wetlands",10:"Forest",11:"Rainforest",12:"Coastlands",13:"Offshore",14:"High seas",15:"Islands",16:"In-flight",17:"Space",18:"Military base",19:"Unknown",20:"Road + rails"};return i}();t.Geo=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var i=r(5);var o=r(31);var a=r(32);var s=r(36);n.module("rr0").constant("DEBUG",false).constant("verbose",true).service("udbService",i.UdbService).service("logger",s.Logger).service("webFileInput",a.WebFileInput).service("webReadLine",i.WebReadLine).controller("UdbController",o.UdbController)},function(e,t){e.exports=angular},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,a,r,s){function c(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(t,r){function n(e){try{o(s.next(e))}catch(e){r(e)}}function i(e){try{o(s["throw"](e))}catch(e){r(e)}}function o(e){e.done?t(e.value):c(e.value).then(n,i)}o((s=s.apply(e,a||[])).next())})};var i=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,o&&(a=t[0]&2?o["return"]:t[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;if(o=0,a)t=[t[0]&2,a.value];switch(t[0]){case 0:case 1:a=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;o=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(a=n.trys,a=a.length>0&&a[a.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(t[0]===6&&n.label<a[1]){n.label=a[1];a=t;break}if(a&&n.label<a[2]){n.label=a[2];n.ops.push(t);break}if(a[2])n.ops.pop();n.trys.pop();continue}t=r.call(e,n)}catch(e){t=[6,e];o=0}finally{i=a=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});t.UdbService=t.WebReadLine=void 0;var o=r(6);var a=r(7);var s=r(8);var c=r(11);var u=function(){function e(){}e.prototype.createInterface=function(e){var t=this;e.input.then(function(e){t.data=e.data;t.read()});return this};e.prototype.read=function(){this.pos=0;var e;do{var t=this.data.indexOf("\n",this.pos+1);e=t<0;if(e){t=this.data.length}var r=this.data.substring(this.pos,t);this.lineCb(r);this.pos=t+1}while(!e);this.closeCb()};e.prototype.on=function(e,t){switch(e){case"line":this.lineCb=t;break;case"close":this.closeCb=t;break;default:}return this};return e}();t.WebReadLine=u;var l=function(){e.$inject=["logger","webFileInput","$http","webReadLine"];function e(e,t,r,n){this.logger=e;this.webFileInput=t;this.$http=r;this.webReadLine=n;this.sources=new o.Sources;this.memory=new a.Memory;this.format="memory";this.firstIndex=1;this.maxCount=1e6;this.recordFormatter=new s.UdbRecordFormatter(this.sources);e.verbose=true}e.prototype.load=function(e,t){var r=this;this.loadSources(e,function(){r.loadData(t)})};e.prototype.loadSources=function(e,t){var r=this;this.logger.logVerbose("\nReading sources from #".concat(e,":"));var n=this.webReadLine.createInterface({input:this.$http.get(e)});this.sources.open(n,function(){r.logger.logVerbose("Reading sources:");r.logger.logVerbose("- ".concat(Object.keys(r.sources.primaryReferences).length," primary references"));r.logger.logVerbose("- ".concat(Object.keys(r.sources.newspapersAndFootnotes).length," newspapers and footnotes"));r.logger.logVerbose("- ".concat(Object.keys(r.sources.otherDatabasesAndWebsites).length," newspapers and footnotes"));r.logger.logVerbose("- ".concat(Object.keys(r.sources.otherPeriodicals).length," other periodicals"));r.logger.logVerbose("- ".concat(Object.keys(r.sources.misc).length," misc. books, reports, files & correspondance"));r.logger.logVerbose("- ".concat(r.sources.discredited.length," discredited reports"));t()})};e.prototype.loadData=function(e){var t=this;var r=1;this.logger.logVerbose("\nReading cases from #".concat(r,":"));this.webFileInput.open(e,function(){new c.Query(t.webFileInput,t.memory,t.logger,t.recordFormatter,"memory").execute(undefined,r,t.maxCount)})};e.prototype.match=function(r){return n(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:t=new a.Memory;return[4,new c.Query(this.memory,t,this.logger,null,this.format).execute(r,this.firstIndex,this.maxCount,false,false)];case 1:e.sent();return[2,t]}})})};return e}();t.UdbService=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Sources=void 0;var n=function(){function e(){this.primaryReferences={};this.newspapersAndFootnotes={};this.otherDatabasesAndWebsites={};this.otherPeriodicals={};this.misc={};this.discredited=[]}e.prototype.addDiscredited=function(e){this.discredited.push(e.substring(2))};e.prototype.addSource=function(e,t){var r=parseInt(t.substring(1,4),0);e[r]=t.substring(5)};e.prototype.open=function(e,t){var r=this;e.on("line",function(e){switch(e.charAt(0)){case"/":r.addSource(r.primaryReferences,e);break;case"$":r.addSource(r.newspapersAndFootnotes,e);break;case"+":r.addSource(r.otherDatabasesAndWebsites,e);break;case"%":r.addSource(r.otherPeriodicals,e);break;case"#":r.addSource(r.misc,e);break;case"!":r.addDiscredited(e);break}}).on("close",t)};e.prototype.getReference=function(e,t){var r;switch(e){case 93:r=this.newspapersAndFootnotes[t];break;case 96:r=this.otherDatabasesAndWebsites[t];break;case 97:r=this.otherPeriodicals[t];break;case 98:r=this.misc[t];break;default:r="".concat(this.primaryReferences[e],", page n°").concat(t)}return r};return e}();t.Sources=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Memory=void 0;var n=r(1);var i=function(){function e(){this.records=[]}e.prototype.hasNext=function(){return this.recordIndex<this.records.length-1};e.prototype.readRecord=function(){return Promise.resolve(this.records[this.recordIndex])};e.prototype.goToRecord=function(e){this.recordIndex=e};e.prototype.write=function(e){this.records.push(e);return true};e.prototype.close=function(){};e.prototype.recordEnumerator=function(e,t){return new n.RecordEnumerator(this,e,t)};e.prototype.toString=function(){return"Memory"};return e}();t.Memory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UdbRecordFormatter=void 0;var a=r(0);var o=r(2);var s=r(9);var c=r(10);var n=function(){function i(e){this.sources=e}i.flagsKeysStr=function(e,r){var n="";var i=Object.keys(r);var o="";a.Util.forEachBit(e,function(e){var t=i[e];n+=o+(r[t].name?r[t].name:t);o=", "});return n};i.prototype.formatProperties=function(e){delete e.unknownMonth;delete e.unknownLocale;delete e.refIndexHigh;delete e.ymdt;delete e.unknown1;delete e.unknown2;delete e.unknown3;delete e.continentCode;delete e.countryCode;delete e.refIndex;var i=["id","year","month","day","time","location","stateOrProvince","country","continent","title","description","locale","duration"];var t=a.Util.sortProps(e,function(e,t){var r=i.indexOf(e);if(r<0)r=1e3;var n=i.indexOf(t);if(n<0)n=1e3;return r<n?-1:r>n?1:0});t.continent="continent";t.country="country";return t};i.prototype.formatData=function(e){var t=a.Util.copy(e);var r=o.Geo.getContinent(e.continentCode);if(r){t.continent=r.name;var n=o.Geo.getCountry(r,e.countryCode);t.country=n.name;t.stateOrProvince=o.Geo.getStateOrProvince(n,t)}t.longitude=parseFloat(t.longitude.toFixed(2));t.latitude=parseFloat(t.latitude.toFixed(2));t.locale=o.Geo.getLocale(t);t.year=s.Time.getYear(t);t.month=s.Time.getMonth(t);t.day=s.Time.getDay(t);t.time=s.Time.getTime(t);t.elevation=o.Geo.getElevation(t);t.relativeAltitude=o.Geo.getRelativeAltitude(t);t.locationFlags=i.flagsKeysStr(t.locationFlags,c.Flags.locationFlagsLabels);t.miscellaneousFlags=i.flagsKeysStr(t.miscellaneousFlags,c.Flags.miscellaneousFlagsLabels);t.typeOfUfoCraftFlags=i.flagsKeysStr(t.typeOfUfoCraftFlags,c.Flags.typeOfUfoCraftFlagsLabels);t.aliensMonstersFlags=i.flagsKeysStr(t.aliensMonstersFlags,c.Flags.aliensMonstersLabels);t.apparentUfoOccupantActivitiesFlags=i.flagsKeysStr(t.apparentUfoOccupantActivitiesFlags,c.Flags.apparentUfoOccupantActivitiesLabels);t.placesVisitedAndThingsAffectedFlags=i.flagsKeysStr(t.placesVisitedAndThingsAffectedFlags,c.Flags.placesVisitedAndThingsAffectedLabels);t.evidenceAndSpecialEffectsFlags=i.flagsKeysStr(t.evidenceAndSpecialEffectsFlags,c.Flags.evidenceAndSpecialEffectsLabels);t.miscellaneousDetailsFlags=i.flagsKeysStr(t.miscellaneousDetailsFlags,c.Flags.miscellaneousDetailsLabels);t.ref=this.sources.getReference(e.ref,t.refIndex);delete t.refIndex;return t};return i}();t.UdbRecordFormatter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Time=void 0;var n=function(){function o(){}o.accuracy=function(e,t,r){var n="";switch(t){case 0:break;case 1:n=r?"?":"";break;case 2:n="~";case 3:n+=e}var i=parseInt(n,10);return i.toString()!=n?n:i};o.getDay=function(e,t){if(t===void 0){t=false}var r=e.ymdt>>2&3;var n=t?e.day>31?"--":(e.day<10?"0":"")+e.day:e.day;return o.accuracy(n,r,t)};o.getYear=function(e){var t=e.ymdt>>6&3;return o.accuracy(e.year,t)};o.getTime=function(e){var t=e.time;var r=e.ymdt&3;var n=Math.floor(t/6);var i=t%6*10;return o.accuracy((n<10?"0":"")+n+":"+(i<10?"0":"")+i,r)};o.getMonth=function(e,t){if(t===void 0){t=false}var r=e.ymdt>>4&3;var n=t?(e.month<10?"0":"")+e.month:e.month;return o.accuracy(n,r,t)};return o}();t.Time=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Flags=void 0;var n=function(){function e(){}e.locationFlagsLabels={MAP:{name:"Map",description:"Coordinates are known.  OK to place event on screen maps."},GND:{name:"Ground",description:"At least ONE observer (or radar) was on land."},CST:{name:"Coast",description:"Sighting in coastal area, possibly just offshore."},SEA:{name:"Sea",description:"Sighting was at sea, typically from some marine craft."},AIR:{name:"Airborne",description:"Airborne observer.  Observer aboard aircraft."},MIL:{name:"Military",description:"At least ONE observer was military."},CIV:{name:"Civilian",description:"At least ONE observer was civilian"},HQO:{name:"High quality observer(s)",description:"Observer(s) were scientists, Engineers, well trained individuals. 3 or more people with consistent descriptions."}};e.miscellaneousFlagsLabels={SCI:{name:"Scientist",description:"A scientist was involved, as an observer or investigator. Also, Scientific testing of traces or effects of sighting."},TLP:{name:"Telepathy",description:"Silent or voiceless communication."},NWS:{name:"News",description:'Report from the news media, or else "sighting made the news".'},MID:{name:"Misidentification",description:"Likely Mis-IDentification of mundane object: (Venus, rocket..)"},HOX:{name:"Hoax",description:"Suspicion or indications of a HOAX, journalistic prank etc."},CNT:{name:"Contactee",description:'Reports from would-be cult leaders -or- repeat "witnesses" with trite and predictable "messages for mankind".'},ODD:{name:"Oddity",description:"1) A very strange event, even if not UFO related. 2) An atypical oddity that occurred during a UFO event. 3) Forteana or paranormal features."},WAV:{name:"Wave",description:"Wave or cluster of UFO sightings.  Sighting is part of a wave."}};e.typeOfUfoCraftFlagsLabels={SCR:{name:"Saucer",description:"Classic Saucer, Disk, Ovoid or Sphere.  Not just some light."},CIG:{name:"Cigar",description:'Torpedo, cigar, fuselage or cylinder shaped vehicle. (Use SCR for a classic "saucer" seen edge-on.)'},DLT:{name:"Delta",description:"Delta, Vee, boomerang, rectangular UFO.  Sharp corners and edges."},NLT:{name:"Nightlights",description:"Points of light with no discernable shape."},PRB:{name:"Probe",description:"Small weird object maneuvers.  Remote controlled craft?"},FBL:{name:"Fireball",description:"Blazing undistinguished form.  Possible meteors etc."},SUB:{name:"Submersible",description:"UFO rises from, or submerges into a body of water."},NFO:{name:"No UFO",description:"No UFO Craft actually SEEN.  (Not necessarily absent..)"}};e.aliensMonstersLabels={OID:{name:"Humanoid",description:'Smallish alien figure, often "grey".'},RBT:{name:"Robot",description:'May resemble "Grey".  Mechanical motions.'},PSH:{name:"Pseudo-Human",description:'1) Possible clone, robot or worse. 2) "Human" seen working with or for alien figures.'},MIB:{name:"Man-in-Black",description:"1) PSH impersonating humans. 2) Mysterious man who tries to suppress UFO reports."},MON:{name:"Monster",description:"Apparent life form fits no standard category."},GNT:{name:"Giant",description:"Apparent alien larger than most humans."},FIG:{name:"Figure",description:'Undefined or poorly seen "figure" or entity.  A shadow.'},NOC:{name:"No occupant",description:"No entity / occupant seen by observer(s)."}};e.apparentUfoOccupantActivitiesLabels={OBS:{name:"Observation",description:"Observation: Surveillance.  Chasing/pacing vehicles."},RAY:{name:"Ray",description:"Odd light RAY, searchlight or visible beam.  Anything laserlike."},SMP:{name:"Sampling",description:"Plant, animal, soil, rock, tissue or other specimens."},MST:{name:"Missing time",description:"Unexplained time-lapse or other time anomaly."},ABD:{name:"Abduction",description:"Known/suspected human abduction.  Animals also if taken whole."},OPR:{name:"Operations",description:"on humans.  Animal Mutilation.  Any invasive surgery."},SIG:{name:"Signal",description:"ANY indication of possible signals to, from, between UFOs or their occupants;  -or- responses to human signals."},CVS:{name:"Conversation",description:'ANY communication between "us" and "them"'}};e.placesVisitedAndThingsAffectedLabels={NUC:{name:"Nuclear",description:"Any nuclear facility: Power plant.  Military.  Research facility."},DRT:{name:"Dirt",description:"affected: Traces in soil: landing marks, footprints etc."},VEG:{name:"Plants affected or sampled",description:"Broken tree limbs.  Crop circles."},ANI:{name:"Animals affected",description:"Panic. Change of behavior. Injuries. Marks."},HUM:{name:"Human affected",description:"Injury. burns. marks. psychology. abduction. death."},VEH:{name:"Vehicle affected",description:"Marks, burns, electro-magnetic (EME) effects."},BLD:{name:"Building or ANY MANMADE STRUCTURE",description:"Roads, Bridges, Power lines.."},LND:{name:"Apparent Landing",description:"UFO (or any part thereof) sets down."}};e.evidenceAndSpecialEffectsLabels={PHT:{name:"Photos",description:"Photos, movies or videos taken of UFO and related phenomena."},RDR:{name:"Radar",description:"Anomalous Radar traces/blips corresponding to UFO sightings."},RDA:{name:"Radiation",description:"Radiation or high energy fields detected during or after sighting."},EME:{name:"Electro-Magnetic Effect",description:"on Car, radio, lights, instruments."},TRC:{name:"Traces",description:"Physical traces discovered (most any variety)"},TCH:{name:"Technical",description:"NEW Technical details.  Clues to alien technology."},HST:{name:"Historical",description:"Historical account OR sighting makes history."},INJ:{name:"Injuries",description:"Wounds, scars, burns etc. as apparent result of close encounter. Resulting illness or death. Mutilations."}};e.miscellaneousDetailsLabels={MIL:{name:"Military investigation",description:"Covert or open, foreign or domestic."},BBK:{name:"Blue Book",description:"US Air Force BLUEBOOK case, regardless of finding."},GSA:{name:"Government Security Agency involvement",description:"FBI, CIA, NSA, NRO, covert security arms of other agencies, foreign & domestic."},OGA:{name:"Other government agencies",description:"Police, FAA, NASA, non-covert agency involvement in any way."},SND:{name:"Sound",description:"UFO sounds heard or recorded."},ODR:{name:"Odors",description:"ODORS associated with UFOs, or given off by them."},COV:{name:"Coverup",description:"Any indication of official Coverup.  Not simple incompetence."},CMF:{name:"Camouflage",description:"Apparent attempt of UFO or alien to hide or disguise itself or its operations in any way: Cloud cigars, flying buses or haystacks, false scenery or settings.."}};return e}();t.Flags=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,a,r,s){function c(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(t,r){function n(e){try{o(s.next(e))}catch(e){r(e)}}function i(e){try{o(s["throw"](e))}catch(e){r(e)}}function o(e){e.done?t(e.value):c(e.value).then(n,i)}o((s=s.apply(e,a||[])).next())})};var v=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,o&&(a=t[0]&2?o["return"]:t[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;if(o=0,a)t=[t[0]&2,a.value];switch(t[0]){case 0:case 1:a=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;o=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(a=n.trys,a=a.length>0&&a[a.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(t[0]===6&&n.label<a[1]){n.label=a[1];a=t;break}if(a&&n.label<a[2]){n.label=a[2];n.ops.push(t);break}if(a[2])n.ops.pop();n.trys.pop();continue}t=r.call(e,n)}catch(e){t=[6,e];o=0}finally{i=a=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});t.Query=void 0;var a=r(12);var g=r(20);var s=r(21);var c=r(0);var i=function(){function e(e,t,r,n,i){this.input=e;this.output=t;this.logger=r;this.recordFormatter=n;this.format=i}e.prototype.execute=function(l,f,h,p,d){if(p===void 0){p=true}if(d===void 0){d=true}return n(this,void 0,void 0,function(){var t,r,n,i,o,a,s,c,u;return v(this,function(e){switch(e.label){case 0:this.logger.logVerbose("Querying...");t=Date.now();r=this.input.recordEnumerator(f,h);e.label=1;case 1:e.trys.push([1,5,,6]);n=new g.RecordMatcher(l,d);i=void 0;o=0;e.label=2;case 2:if(!r.hasNext())return[3,4];return[4,r.next()];case 3:a=e.sent();if(n.matches(a)){s=void 0;if(!i){i=this.getOutput(a,p);this.logger.logDebug("Writing ".concat(i))}if(p&&this.recordFormatter){s=this.recordFormatter.formatData(a)}else{s=a}i.write(s);o++;this.logger.flush()}else{this.logger.reset()}return[3,2];case 4:if(i){i.end()}c=Date.now()-t;this.logger.autoFlush=true;this.logger.logVerbose("Found ".concat(o," records in ").concat((c/1e3).toFixed(2)," seconds."));return[3,6];case 5:u=e.sent();if(u instanceof g.MatchError){this.logger.error(u.message)}return[3,6];case 6:return[2]}})})};e.prototype.getOutput=function(e,t){var r;if(t&&this.recordFormatter){r=this.recordFormatter.formatProperties(c.Util.copy(e))}else{r=e}var n=a.parse(this.format,{parseQueryString:true}).query;var i=this.format.indexOf("?");var o={format:s.OutputFormat[this.format.substring(0,i>0?i:undefined).toLocaleLowerCase()],params:n};return s.RecordOutputFactory.getRecordOutput(o,this.output,r)};return e}();t.Query=i},function(e,t,r){"use strict";var j=r(13);var T=r(16);t.parse=a;t.resolve=c;t.resolveObject=u;t.format=s;t.Url=M;function M(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var k=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r","\n","\t"],o=["{","}","|","\\","^","`"].concat(i),D=["'"].concat(o),E=["%","/","?",";","#"].concat(D),U=["/","?","#"],H=255,G=/^[+a-z0-9A-Z_-]{0,63}$/,V=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:true,"javascript:":true},K={javascript:true,"javascript:":true},W={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},q=r(17);function a(e,t,r){if(e&&T.isObject(e)&&e instanceof M)return e;var n=new M;n.parse(e,t,r);return n}M.prototype.parse=function(e,t,r){if(!T.isString(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/");e=o.join(i);var s=e;s=s.trim();if(!r&&e.split("#").length===1){var c=I.exec(s);if(c){this.path=s;this.href=s;this.pathname=c[1];if(c[2]){this.search=c[2];if(t){this.query=q.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var u=k.exec(s);if(u){u=u[0];var l=u.toLowerCase();this.protocol=l;s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=s.substr(0,2)==="//";if(f&&!(u&&K[u])){s=s.substr(2);this.slashes=true}}if(!K[u]&&(f||u&&!W[u])){var h=-1;for(var p=0;p<U.length;p++){var d=s.indexOf(U[p]);if(d!==-1&&(h===-1||d<h))h=d}var v,g;if(h===-1){g=s.lastIndexOf("@")}else{g=s.lastIndexOf("@",h)}if(g!==-1){v=s.slice(0,g);s=s.slice(g+1);this.auth=decodeURIComponent(v)}h=-1;for(var p=0;p<E.length;p++){var d=s.indexOf(E[p]);if(d!==-1&&(h===-1||d<h))h=d}if(h===-1)h=s.length;this.host=s.slice(0,h);s=s.slice(h);this.parseHost();this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m){var y=this.hostname.split(/\./);for(var p=0,b=y.length;p<b;p++){var O=y[p];if(!O)continue;if(!O.match(G)){var w="";for(var S=0,A=O.length;S<A;S++){if(O.charCodeAt(S)>127){w+="x"}else{w+=O[S]}}if(!w.match(G)){var R=y.slice(0,p);var P=y.slice(p+1);var C=O.match(V);if(C){R.push(C[1]);P.unshift(C[2])}if(P.length){s="/"+P.join(".")+s}this.hostname=R.join(".");break}}}}if(this.hostname.length>H){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!m){this.hostname=j.toASCII(this.hostname)}var M=this.port?":"+this.port:"";var N=this.hostname||"";this.host=N+M;this.href+=this.host;if(m){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(s[0]!=="/"){s="/"+s}}}if(!z[l]){for(var p=0,b=D.length;p<b;p++){var x=D[p];if(s.indexOf(x)===-1)continue;var L=encodeURIComponent(x);if(L===x){L=escape(x)}s=s.split(x).join(L)}}var B=s.indexOf("#");if(B!==-1){this.hash=s.substr(B);s=s.slice(0,B)}var F=s.indexOf("?");if(F!==-1){this.search=s.substr(F);this.query=s.substr(F+1);if(t){this.query=q.parse(this.query)}s=s.slice(0,F)}else if(t){this.search="";this.query={}}if(s)this.pathname=s;if(W[l]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var M=this.pathname||"";var _=this.search||"";this.path=M+_}this.href=this.format();return this};function s(e){if(T.isString(e))e=a(e);if(!(e instanceof M))return M.prototype.format.call(e);return e.format()}M.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=false,o="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&T.isObject(this.query)&&Object.keys(this.query).length){o=q.stringify(this.query)}var a=this.search||o&&"?"+o||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||W[t])&&i!==false){i="//"+(i||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!i){i=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(a&&a.charAt(0)!=="?")a="?"+a;r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});a=a.replace("#","%23");return t+i+r+a+n};function c(e,t){return a(e,false,true).resolve(t)}M.prototype.resolve=function(e){return this.resolveObject(a(e,false,true)).format()};function u(e,t){if(!e)return t;return a(e,false,true).resolveObject(t)}M.prototype.resolveObject=function(e){if(T.isString(e)){var t=new M;t.parse(e,false,true);e=t}var r=new M;var n=Object.keys(this);for(var i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var a=Object.keys(e);for(var s=0;s<a.length;s++){var c=a[s];if(c!=="protocol")r[c]=e[c]}if(W[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!W[e.protocol]){var u=Object.keys(e);for(var l=0;l<u.length;l++){var f=u[l];r[f]=e[f]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!K[e.protocol]){var h=(e.pathname||"").split("/");while(h.length&&!(e.host=h.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(h[0]!=="")h.unshift("");if(h.length<2)h.unshift("");r.pathname=h.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var p=r.pathname||"";var d=r.search||"";r.path=p+d}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var v=r.pathname&&r.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",m=g||v||r.host&&e.pathname,y=m,b=r.pathname&&r.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],O=r.protocol&&!W[r.protocol];if(O){r.hostname="";r.port=null;if(r.host){if(b[0]==="")b[0]=r.host;else b.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(h[0]==="")h[0]=e.host;else h.unshift(e.host)}e.host=null}m=m&&(h[0]===""||b[0]==="")}if(g){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;b=h}else if(h.length){if(!b)b=[];b.pop();b=b.concat(h);r.search=e.search;r.query=e.query}else if(!T.isNullOrUndefined(e.search)){if(O){r.hostname=r.host=b.shift();var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(w){r.auth=w.shift();r.host=r.hostname=w.shift()}}r.search=e.search;r.query=e.query;if(!T.isNull(r.pathname)||!T.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!b.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var S=b.slice(-1)[0];var A=(r.host||e.host||b.length>1)&&(S==="."||S==="..")||S==="";var R=0;for(var P=b.length;P>=0;P--){S=b[P];if(S==="."){b.splice(P,1)}else if(S===".."){b.splice(P,1);R++}else if(R){b.splice(P,1);R--}}if(!m&&!y){for(;R--;R){b.unshift("..")}}if(m&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")){b.unshift("")}if(A&&b.join("/").substr(-1)!=="/"){b.push("")}var C=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(O){r.hostname=r.host=C?"":b.length?b.shift():"";var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(w){r.auth=w.shift();r.host=r.hostname=w.shift()}}m=m||r.host&&b.length;if(m&&!C){b.unshift("")}if(!b.length){r.pathname=null;r.path=null}else{r.pathname=b.join("/")}if(!T.isNull(r.pathname)||!T.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};M.prototype.parseHost=function(){var e=this.host;var t=n.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},function(e,I,D){(function(j,T){var k;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(e){var t=true&&I&&!I.nodeType&&I;var r=true&&j&&!j.nodeType&&j;var n=typeof T=="object"&&T;if(n.global===n||n.window===n||n.self===n){e=n}var i,m=2147483647,y=36,b=1,O=26,o=38,a=700,w=72,S=128,A="-",s=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=y-b,R=Math.floor,P=String.fromCharCode,h;function C(e){throw new RangeError(l[e])}function p(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function d(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(u,".");var i=e.split(".");var o=p(i,t).join(".");return n+o}function M(e){var t=[],r=0,n=e.length,i,o;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){o=e.charCodeAt(r++);if((o&64512)==56320){t.push(((i&1023)<<10)+(o&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function g(e){return p(e,function(e){var t="";if(e>65535){e-=65536;t+=P(e>>>10&1023|55296);e=56320|e&1023}t+=P(e);return t}).join("")}function N(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return y}function x(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function L(e,t,r){var n=0;e=r?R(e/a):e>>1;e+=R(e/t);for(;e>f*O>>1;n+=y){e=R(e/f)}return R(n+(f+1)*e/(e+o))}function v(e){var t=[],r=e.length,n,i=0,o=S,a=w,s,c,u,l,f,h,p,d,v;s=e.lastIndexOf(A);if(s<0){s=0}for(c=0;c<s;++c){if(e.charCodeAt(c)>=128){C("not-basic")}t.push(e.charCodeAt(c))}for(u=s>0?s+1:0;u<r;){for(l=i,f=1,h=y;;h+=y){if(u>=r){C("invalid-input")}p=N(e.charCodeAt(u++));if(p>=y||p>R((m-i)/f)){C("overflow")}i+=p*f;d=h<=a?b:h>=a+O?O:h-a;if(p<d){break}v=y-d;if(f>R(m/v)){C("overflow")}f*=v}n=t.length+1;a=L(i-l,n,l==0);if(R(i/n)>m-o){C("overflow")}o+=R(i/n);i%=n;t.splice(i++,0,o)}return g(t)}function B(e){var t,r,n,i,o,a,s,c,u,l,f,h=[],p,d,v,g;e=M(e);p=e.length;t=S;r=0;o=w;for(a=0;a<p;++a){f=e[a];if(f<128){h.push(P(f))}}n=i=h.length;if(i){h.push(A)}while(n<p){for(s=m,a=0;a<p;++a){f=e[a];if(f>=t&&f<s){s=f}}d=n+1;if(s-t>R((m-r)/d)){C("overflow")}r+=(s-t)*d;t=s;for(a=0;a<p;++a){f=e[a];if(f<t&&++r>m){C("overflow")}if(f==t){for(c=r,u=y;;u+=y){l=u<=o?b:u>=o+O?O:u-o;if(c<l){break}g=c-l;v=y-l;h.push(P(x(l+g%v,0)));c=R(g/v)}h.push(P(x(c,0)));o=L(r,d,n==i);r=0;++n}}++r;++t}return h.join("")}function F(e){return d(e,function(e){return s.test(e)?v(e.slice(4).toLowerCase()):e})}function _(e){return d(e,function(e){return c.test(e)?"xn--"+B(e):e})}i={version:"1.4.1",ucs2:{decode:M,encode:g},decode:v,encode:B,toASCII:_,toUnicode:F};if(true){!(k=function(){return i}.call(I,D,I,j),k!==undefined&&(j.exports=k))}else{}})(this)}).call(this,D(14)(e),D(15))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t,r){"use strict";e.exports={isString:function(e){return typeof e==="string"},isObject:function(e){return typeof e==="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(e,t,r){"use strict";t.decode=t.parse=r(18);t.encode=t.stringify=r(19)},function(e,t,r){"use strict";function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,n){t=t||"&";r=r||"=";var i={};if(typeof e!=="string"||e.length===0){return i}var o=/\+/g;e=e.split(t);var a=1e3;if(n&&typeof n.maxKeys==="number"){a=n.maxKeys}var s=e.length;if(a>0&&s>a){s=a}for(var c=0;c<s;++c){var u=e[c].replace(o,"%20"),l=u.indexOf(r),f,h,p,d;if(l>=0){f=u.substr(0,l);h=u.substr(l+1)}else{f=u;h=""}p=decodeURIComponent(f);d=decodeURIComponent(h);if(!v(i,p)){i[p]=d}else if(g(i[p])){i[p].push(d)}else{i[p]=[i[p],d]}}return i};var g=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},function(e,t,r){"use strict";var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(r,n,i,e){n=n||"&";i=i||"=";if(r===null){r=undefined}if(typeof r==="object"){return s(c(r),function(e){var t=encodeURIComponent(o(e))+i;if(a(r[e])){return s(r[e],function(e){return t+encodeURIComponent(o(e))}).join(n)}else{return t+encodeURIComponent(o(r[e]))}}).join(n)}if(!e)return"";return encodeURIComponent(o(e))+i+encodeURIComponent(o(r))};var a=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function s(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var c=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},function(e,t,r){"use strict";var i=this&&this.__extends||function(){var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return n(e,t)};return function(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:true});t.RecordMatcher=t.MatchError=void 0;var n=function(){function e(e,t,r){this.type=e;this.prop=t;this.value=r}e.prototype.getType=function(){return this.type};return e}();var o=function(n){i(e,n);function e(e,t,r){return n.call(this,e,t,r)||this}e.prototype.match=function(e){return e[this.prop]==this.value};return e}(n);var a=function(n){i(e,n);function e(e,t,r){return n.call(this,e,t,r)||this}e.prototype.match=function(e){return e[this.prop]!=this.value};return e}(n);var s=function(n){i(e,n);function e(e,t,r){return n.call(this,e,t,r)||this}e.prototype.match=function(e){return e[this.prop]>this.value};return e}(n);var c=function(n){i(e,n);function e(e,t,r){return n.call(this,e,t,r)||this}e.prototype.match=function(e){return e[this.prop]<this.value};return e}(n);var u=function(n){i(e,n);function e(e,t,r){return n.call(this,e,t,r)||this}e.prototype.match=function(e){return e[this.prop]<=this.value};return e}(n);var l=function(n){i(e,n);function e(e,t,r){return n.call(this,e,t,r)||this}e.prototype.match=function(e){return e[this.prop]>=this.value};return e}(n);var h={"<>":a,"!=":a,">=":u,"<=":u,"=":o,">":s,"<":c};var p=function(r){i(n,r);function n(e){var t=r.call(this,e)||this;Object.setPrototypeOf(t,n.prototype);return t}return n}(Error);t.MatchError=p;var f=function(){function e(e,t){if(e===void 0){e=""}if(t===void 0){t=true}this.criteria=e;this.allowEmpty=t;this.matchers=[];var r=e.split("&");for(var n=0;n<r.length;++n){var i="and";var o=r[n];var a=o.split("|");for(var s=0;s<a.length;++s){var c=a[s];var u=void 0;for(var l in h){var f=c.split(l);if(f.length<=1){continue}u=new h[l](i,f[0],f[1]);i="or";this.matchers.push(u);break}if(!t&&!u){throw new p("Expected some expression with operators ".concat(h))}}}}e.prototype.matches=function(e){var t;var r=true;for(var n=0;n<this.matchers.length;++n){var i=this.matchers[n];var o=i.match(e);t=i.getType();switch(i.getType()){case"or":r=r||o;break;case"and":default:r=r&&o}}return r};return e}();t.RecordMatcher=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RecordOutputFactory=t.OutputFormat=void 0;var i=r(22);var o=r(23);var a=r(24);var s=r(30);var c;(function(e){e[e["xml"]=0]="xml";e[e["csv"]=1]="csv";e[e["memory"]=2]="memory"})(c=t.OutputFormat||(t.OutputFormat={}));var n=function(){function e(){}e.getRecordOutput=function(e,t,r){var n;switch(e.format){case c.csv:n=new i.CsvRecordOutput(t,r,e.params);break;case c.xml:n=new a.XmlRecordOutput(t,r,e.params);break;case c.memory:n=new s.MemoryRecordOutput(t,r,e.params);break;default:n=new o.UdbTextRecordOutput(t,e.params)}return n};return e}();t.RecordOutputFactory=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CsvRecordOutput=void 0;var n=function(){function o(e,t,r){this.output=e;this.sortedRecord=t;this.separator=",";if(r.separator){this.separator=r.separator}var n={};for(var i in this.sortedRecord){n[i]=i}this.output.write(this.desc(n)+"\n")}o.csvValue=function(e){if(typeof e==="string"){e=e.replace(/"/g,'""');e='"'.concat(e,'"')}return e};o.prototype.desc=function(e){var t="";var r="";for(var n in this.sortedRecord){var i=e[n];t+=r+o.csvValue(i);r=this.separator}return t};o.prototype.getColumns=function(e){return Object.keys(this.sortedRecord)};o.prototype.write=function(e){this.output.write(this.desc(e)+"\n")};o.prototype.end=function(){};o.prototype.toString=function(){return"CVS output in ".concat(this.output)};return o}();t.CsvRecordOutput=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UdbTextRecordOutput=void 0;var w=r(2);var S=0;function A(e){var t="";for(var r=0;r<S;r++)t+="\t";return t+(e?e:"")+"\n"}var n=function(){function e(e,t){this.output=e;this.params=t}e.prototype.desc=function(e){var t=e.ref?e.ref:"";var r=e.month;var n=e.day;var i=e.time;var o=A()+A("Record #".concat(e.id));S++;o+=A("Title\t\t: ".concat(e.title))+A("Date\t\t: ".concat(e.year).concat(r?"/"+r:"").concat(n?"/"+n:"").concat(i?", "+i:""));var a=e.relativeAltitude;var s=e.elevation;var c="".concat(s||a?A((s?"\tElevation "+s+" m":"")+(a?", relative altitude "+a+" m":"")):"");var u=this.params.latLng||"dms";var l=u==="dms"?w.Geo.ddToDms(e.latitude,e.longitude):e.latitude+" "+e.longitude;var f=A("Location\t:")+A("\t".concat(e.locale,", ").concat(e.location," (").concat(e.stateOrProvince,", ").concat(e.country,", ").concat(e.continent,"), ").concat(l))+c;S++;f+=A("Observer: ".concat(e.locationFlags));S--;var h=e.description&&e.description.replace(/\n/g,"\n\t\t");var p=A("Description :")+A(h?"\t".concat(h):"");var d=e.miscellaneousFlags;if(d){p+=A("Miscellaneous details and features\t\t\t\t: ".concat(d))}var v=e.typeOfUfoCraftFlags;if(v){p+=A("Type of UFO / Craft\t\t\t\t\t\t\t: ".concat(v))}var g=e.aliensMonstersFlags;if(g){p+=A("Aliens! Monsters! (no religious figures)\t: ".concat(g))}var m=e.apparentUfoOccupantActivitiesFlags;if(m){p+=A("Apparent UFO/Occupant activities\t\t\t: ".concat(m))}var y=e.placesVisitedAndThingsAffectedFlags;if(y){p+=A("Places visited and things affected\t\t\t: ".concat(y))}var b=e.evidenceAndSpecialEffectsFlags;if(b){p+=A("Evidence and special effects\t\t\t\t: ".concat(b))}var O=e.miscellaneousDetailsFlags;if(O){p+=A("Miscellaneous details\t\t\t\t\t: ".concat(O))}o+=f;o+=p;o+=A("Duration\t\t\t\t\t\t\t\t\t: ".concat(e.duration," min"));o+=A("Strangeness\t\t\t\t\t\t\t\t\t: ".concat(e.strangeness));o+=A("Credibility\t\t\t\t\t\t\t\t\t: ".concat(e.credibility));o+=A("Reference\t\t\t\t\t\t\t\t\t: ".concat(t));S--;return o};e.prototype.write=function(e){this.output.write(A(this.desc(e)))};e.prototype.end=function(){};e.prototype.toString=function(){return"console"};return e}();t.UdbTextRecordOutput=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.XmlRecordOutput=void 0;var n=r(25);var i=function(){function e(e,t,r){this.output=e;this.sortedRecord=t;this.output.write('<?xml version="1.0" encoding="UTF-8"?>\n<udb>\n')}e.prototype.desc=function(e){return n(e).toString()};e.prototype.write=function(e){var t={};for(var r in this.sortedRecord){t[r]=e[r]}this.output.write("<record>".concat(this.desc(t),"</record>\n"))};e.prototype.end=function(){this.output.write("</udb>")};e.prototype.toString=function(){return"XML output to "+this.output};return e}();t.XmlRecordOutput=i},function(e,t,r){var c=r(26);var n={attributes_key:false,header:false};e.exports=function i(o,a){"use strict";if(a){Object.keys(n).forEach(function(e){if(a[e]===undefined){a[e]=n[e]}})}else{a=n}var s=a.header?'<?xml version="1.0" encoding="UTF-8"?>':"";a.header=false;if(!!o.length&&typeof o!=="string"){o.forEach(function(e){s+=i(e,a)})}else if(typeof o==="object"){Object.keys(o).forEach(function(e){if(e!==a.attributes_key){var t=o[e],r="";if(t===undefined||t===null){t=""}if(a.attributes_key&&o[a.attributes_key]){Object.keys(o[a.attributes_key]).forEach(function(e){r+=c.format(' %s="%s"',e,o[a.attributes_key][e])})}var n=i(t,a);if(n){s+=c.format("<%s%s>%s</%s>",e,r,i(t,a),e)}else{s+=c.format("<%s%s/>",e,r)}}})}else{return o.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}return s}},function(e,I,D){(function(a){var r=Object.getOwnPropertyDescriptors||function e(t){var r=Object.keys(t);var n={};for(var i=0;i<r.length;i++){n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i])}return n};var s=/%[sdj%]/g;I.format=function(e){if(!w(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(c(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var i=n.length;var o=String(e).replace(s,function(e){if(e==="%%")return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}});for(var a=n[r];r<i;a=n[++r]){if(l(a)||!R(a)){o+=" "+a}else{o+=" "+c(a)}}return o};I.deprecate=function(e,t){if(typeof a!=="undefined"&&a.noDeprecation===true){return e}if(typeof a==="undefined"){return function(){return I.deprecate(e,t).apply(this,arguments)}}var r=false;function n(){if(!r){if(a.throwDeprecation){throw new Error(t)}else if(a.traceDeprecation){console.trace(t)}else{console.error(t)}r=true}return e.apply(this,arguments)}return n};var e={};var n;I.debuglog=function(t){if(S(n))n=a.env.NODE_DEBUG||"";t=t.toUpperCase();if(!e[t]){if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=a.pid;e[t]=function(){var e=I.format.apply(I,arguments);console.error("%s %d: %s",t,r,e)}}else{e[t]=function(){}}}return e[t]};function c(e,t){var r={seen:[],stylize:o};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(u(t)){r.showHidden=t}else if(t){I._extend(r,t)}if(S(r.showHidden))r.showHidden=false;if(S(r.depth))r.depth=2;if(S(r.colors))r.colors=false;if(S(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=i;return d(r,e,r.depth)}I.inspect=c;c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function i(e,t){var r=c.styles[t];if(r){return"["+c.colors[r][0]+"m"+e+"["+c.colors[r][1]+"m"}else{return e}}function o(e,t){return e}function p(e){var r={};e.forEach(function(e,t){r[e]=true});return r}function d(t,r,n){if(t.customInspect&&r&&M(r.inspect)&&r.inspect!==I.inspect&&!(r.constructor&&r.constructor.prototype===r)){var e=r.inspect(n,t);if(!w(e)){e=d(t,e,n)}return e}var i=v(t,r);if(i){return i}var o=Object.keys(r);var a=p(o);if(t.showHidden){o=Object.getOwnPropertyNames(r)}if(C(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return g(r)}if(o.length===0){if(M(r)){var s=r.name?": "+r.name:"";return t.stylize("[Function"+s+"]","special")}if(A(r)){return t.stylize(RegExp.prototype.toString.call(r),"regexp")}if(P(r)){return t.stylize(Date.prototype.toString.call(r),"date")}if(C(r)){return g(r)}}var c="",u=false,l=["{","}"];if(O(r)){u=true;l=["[","]"]}if(M(r)){var f=r.name?": "+r.name:"";c=" [Function"+f+"]"}if(A(r)){c=" "+RegExp.prototype.toString.call(r)}if(P(r)){c=" "+Date.prototype.toUTCString.call(r)}if(C(r)){c=" "+g(r)}if(o.length===0&&(!u||r.length==0)){return l[0]+c+l[1]}if(n<0){if(A(r)){return t.stylize(RegExp.prototype.toString.call(r),"regexp")}else{return t.stylize("[Object]","special")}}t.seen.push(r);var h;if(u){h=m(t,r,n,a,o)}else{h=o.map(function(e){return y(t,r,n,a,e,u)})}t.seen.pop();return b(h,c,l)}function v(e,t){if(S(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(f(t))return e.stylize(""+t,"number");if(u(t))return e.stylize(""+t,"boolean");if(l(t))return e.stylize("null","null")}function g(e){return"["+Error.prototype.toString.call(e)+"]"}function m(t,r,n,i,e){var o=[];for(var a=0,s=r.length;a<s;++a){if(_(r,String(a))){o.push(y(t,r,n,i,String(a),true))}else{o.push("")}}e.forEach(function(e){if(!e.match(/^\d+$/)){o.push(y(t,r,n,i,e,true))}});return o}function y(e,t,r,n,i,o){var a,s,c;c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(c.get){if(c.set){s=e.stylize("[Getter/Setter]","special")}else{s=e.stylize("[Getter]","special")}}else{if(c.set){s=e.stylize("[Setter]","special")}}if(!_(n,i)){a="["+i+"]"}if(!s){if(e.seen.indexOf(c.value)<0){if(l(r)){s=d(e,c.value,null)}else{s=d(e,c.value,r-1)}if(s.indexOf("\n")>-1){if(o){s=s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{s="\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{s=e.stylize("[Circular]","special")}}if(S(a)){if(o&&i.match(/^\d+$/)){return s}a=JSON.stringify(""+i);if(a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){a=a.substr(1,a.length-2);a=e.stylize(a,"name")}else{a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");a=e.stylize(a,"string")}}return a+": "+s}function b(e,t,r){var n=0;var i=e.reduce(function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function O(e){return Array.isArray(e)}I.isArray=O;function u(e){return typeof e==="boolean"}I.isBoolean=u;function l(e){return e===null}I.isNull=l;function t(e){return e==null}I.isNullOrUndefined=t;function f(e){return typeof e==="number"}I.isNumber=f;function w(e){return typeof e==="string"}I.isString=w;function h(e){return typeof e==="symbol"}I.isSymbol=h;function S(e){return e===void 0}I.isUndefined=S;function A(e){return R(e)&&x(e)==="[object RegExp]"}I.isRegExp=A;function R(e){return typeof e==="object"&&e!==null}I.isObject=R;function P(e){return R(e)&&x(e)==="[object Date]"}I.isDate=P;function C(e){return R(e)&&(x(e)==="[object Error]"||e instanceof Error)}I.isError=C;function M(e){return typeof e==="function"}I.isFunction=M;function N(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}I.isPrimitive=N;I.isBuffer=D(28);function x(e){return Object.prototype.toString.call(e)}function L(e){return e<10?"0"+e.toString(10):e.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var e=new Date;var t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":");return[e.getDate(),B[e.getMonth()],t].join(" ")}I.log=function(){console.log("%s - %s",F(),I.format.apply(I,arguments))};I.inherits=D(29);I._extend=function(e,t){if(!t||!R(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var j=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):undefined;I.promisify=function e(o){if(typeof o!=="function")throw new TypeError('The "original" argument must be of type Function');if(j&&o[j]){var t=o[j];if(typeof t!=="function"){throw new TypeError('The "util.promisify.custom" argument must be of type Function')}Object.defineProperty(t,j,{value:t,enumerable:false,writable:false,configurable:true});return t}function t(){var r,n;var e=new Promise(function(e,t){r=e;n=t});var t=[];for(var i=0;i<arguments.length;i++){t.push(arguments[i])}t.push(function(e,t){if(e){n(e)}else{r(t)}});try{o.apply(this,t)}catch(e){n(e)}return e}Object.setPrototypeOf(t,Object.getPrototypeOf(o));if(j)Object.defineProperty(t,j,{value:t,enumerable:false,writable:false,configurable:true});return Object.defineProperties(t,r(o))};I.promisify.custom=j;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e;e=r}return t(e)}function k(o){if(typeof o!=="function"){throw new TypeError('The "original" argument must be of type Function')}function e(){var e=[];for(var t=0;t<arguments.length;t++){e.push(arguments[t])}var r=e.pop();if(typeof r!=="function"){throw new TypeError("The last argument must be of type Function")}var n=this;var i=function(){return r.apply(n,arguments)};o.apply(this,e).then(function(e){a.nextTick(i,null,e)},function(e){a.nextTick(T,e,i)})}Object.setPrototypeOf(e,Object.getPrototypeOf(o));Object.defineProperties(e,r(o));return e}I.callbackify=k}).call(this,D(27))},function(e,t){var r=e.exports={};var n;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=o}}catch(e){n=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(e){i=a}})();function s(t){if(n===setTimeout){return setTimeout(t,0)}if((n===o||!n)&&setTimeout){n=setTimeout;return setTimeout(t,0)}try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(i===clearTimeout){return clearTimeout(t)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var u=[];var l=false;var f;var h=-1;function p(){if(!l||!f){return}l=false;if(f.length){u=f.concat(u)}else{h=-1}if(u.length){d()}}function d(){if(l){return}var e=s(p);l=true;var t=u.length;while(t){f=u;u=[];while(++h<t){if(f){f[h].run()}}h=-1;t=u.length}f=null;l=false;c(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}u.push(new v(e,t));if(u.length===1&&!l){s(d)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function g(){}r.on=g;r.addListener=g;r.once=g;r.off=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.prependListener=g;r.prependOnceListener=g;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t){e.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},function(e,t){if(typeof Object.create==="function"){e.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{e.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MemoryRecordOutput=void 0;var n=function(){function e(e,t,r){this.output=e;this.sortedRecord=t}e.prototype.desc=function(e){var t={};for(var r in this.sortedRecord){if(this.sortedRecord.hasOwnProperty(r)){t[r]=e[r]}}return t};e.prototype.write=function(e){this.output.write(this.desc(e))};e.prototype.end=function(){};e.prototype.toString=function(){return"Memory record output"};return e}();t.MemoryRecordOutput=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,a,r,s){function c(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(t,r){function n(e){try{o(s.next(e))}catch(e){r(e)}}function i(e){try{o(s["throw"](e))}catch(e){r(e)}}function o(e){e.done?t(e.value):c(e.value).then(n,i)}o((s=s.apply(e,a||[])).next())})};var i=this&&this.__generator||function(e,r){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,o&&(a=t[0]&2?o["return"]:t[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;if(o=0,a)t=[t[0]&2,a.value];switch(t[0]){case 0:case 1:a=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;o=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(a=n.trys,a=a.length>0&&a[a.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(t[0]===6&&n.label<a[1]){n.label=a[1];a=t;break}if(a&&n.label<a[2]){n.label=a[2];n.ops.push(t);break}if(a[2])n.ops.pop();n.trys.pop();continue}t=r.call(e,n)}catch(e){t=[6,e];o=0}finally{i=a=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};Object.defineProperty(t,"__esModule",{value:true});t.UdbController=void 0;var o=function(){e.$inject=["$scope","udbService","logger"];function e(t,e,r){var n=this;this.udbService=e;this.matchResults=[];this.logs="Loading...";this.$onInit=function(){};this.matchCriteria="";r.onLog(function(e){t.$applyAsync(function(){console.log(e);e=e.replace(/\n/g,"<br/>");n.logs=e})});t.$applyAsync(function(){e.load("./usources.txt","./U.RND")})}e.prototype.timeLink=function(e){var t=Math.floor(e/1e3);var r=e%1e3;var n=Math.floor(r/100);var i=r%100;var o=Math.floor(i/10);var a=i%10;return"/time/".concat(t,"/").concat(n,"/").concat(o,"/").concat(a)};e.prototype.search=function(){return n(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,this.udbService.match(this.matchCriteria)];case 1:t=e.sent();this.matchResults=t.records;return[2]}})})};return e}();t.UdbController=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WebFileInput=void 0;var n=r(33);var i=r(1);var o=function(){e.$inject=["logger","$http"];function e(e,t){this.logger=e;this.$http=t;this.filePos=0;this.recordSize=112}e.prototype.open=function(e,t){var r=this;this.$http.get(e,{responseType:"arraybuffer"}).then(function(e){r.fileData=e.data;r.fileSize=r.fileData.byteLength;r.buffer=new Uint8Array(r.fileData,r.filePos,r.recordSize);r.recordReader=new n.UdbRecordReader(r.buffer,r.logger);t()})};e.prototype.recordEnumerator=function(e,t){return new i.RecordEnumerator(this,e,t)};e.prototype.goToRecord=function(e){this.filePos=e*this.recordSize};e.prototype.hasNext=function(){return this.filePos+this.recordSize*2<this.fileSize};e.prototype.readRecord=function(n){var i=this;return new Promise(function(e,t){i.getBuffer();var r=i.recordReader.read(i.filePos);r.id=n;e(r)})};e.prototype.close=function(){};e.prototype.getBuffer=function(){this.buffer.set(new Uint8Array(this.fileData,this.filePos,this.recordSize))};return e}();t.WebFileInput=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return n(e,t)};return function(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:true});t.UdbRecordReader=void 0;var i=r(34);var o=function(l){n(e,l);function e(e,t){return l.call(this,e,t)||this}e.prototype.readLatLong=function(e){var t=this.buffer[this.recordPos+1];var r=t>>7;var n=this.readSignedInt(e);n=n>>1;n=n/100;this.record[e]=n*1.11111111111;if(e==="longitude"){this.record[e]*=-1}return n};e.prototype.read=function(e,t){var r=this;var n=l.prototype.read.call(this,e,t);this.readSignedInt("year");this.readNibbles("unknownLocale","locale");this.readNibbles("unknownMonth","month");this.readByteBits("refIndexHigh",5,"day");this.readByte("time");this.readByte("ymdt");this.readByte("duration");this.readByte("unknown1");this.readLatLong("longitude");this.readLatLong("latitude");this.readSignedInt("elevation");this.readSignedInt("relativeAltitude");this.readByte("unknown2");this.readNibbles("continentCode","countryCode");this.readString(3,"stateOrProvince");this.readByte("unknown3");this.readByte("locationFlags");this.readByte("miscellaneousFlags");this.readByte("typeOfUfoCraftFlags");this.readByte("aliensMonstersFlags");this.readByte("apparentUfoOccupantActivitiesFlags");this.readByte("placesVisitedAndThingsAffectedFlags");this.readByte("evidenceAndSpecialEffectsFlags");this.readByte("miscellaneousDetailsFlags");this.readString(78,"description");var i=n.description.split(":");n.location=i[0];n.title=i[1];n.description=i[2];var o=i[3];if(o){n.description+="\n"+o}var a=i[4];if(a){n.description+="\n"+a}var s=i[5];if(s){n.description+="\n"+s}this.readByte("ref");this.readByte("refIndex");n.refIndex=(n.refIndexHigh<<8)+n.refIndex;this.readNibbles("strangeness","credibility");var c=3*16;var u=function(e){var t=r.filePos+e*c/3;return t+": "+r.recordHex.substring(c*e,c*(e+1))+"\n"};this.logger.logDebug("buffer=\n".concat(u(0)+u(1)+u(2)+u(3)+u(4)+u(5)+u(6)));return n};return e}(i.BinaryRecordReader);t.UdbRecordReader=o},function(e,t,r){"use strict";var o=this&&this.__extends||function(){var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return n(e,t)};return function(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:true});t.BinaryRecordReader=void 0;var a=r(0);var n=r(35);var i=function(n){o(i,n);function i(e,t){var r=n.call(this,e,t)||this;r.unknownOnly=true;return r}Object.defineProperty(i.prototype,"recordHex",{get:function(){return this._recordHex},enumerable:false,configurable:true});i.prototype.readed=function(e){var t=this._recordPos+e;for(;this._recordPos<t;++this._recordPos){var r=this._buffer[this._recordPos];this._recordHex+=r<16?"0":"";this._recordHex+=r.toString(16)+" "}};i.prototype.logReadPos=function(e){if(!this.unknownOnly||e.startsWith("unknown")){var t=this._filePos+this._recordPos;var r=this._record[e];if(typeof r==="string"){r="'".concat(r,"'")}else{r+=" (0x".concat(r.toString(16),", ").concat(r.toString(2),")")}var n="at ".concat(t," (0x").concat(t.toString(16),") read ").concat(e,"=").concat(r);this._logger.logDebug(n)}};i.prototype.readString=function(e,t){var r="";for(var n=this._recordPos;n<this._recordPos+e;n++){r+=String.fromCharCode(this._buffer[n])}this._record[t]=i.validString(a.Util.trimZeroEnd(r)).trim();this.logReadPos(t);this.readed(e);return r};i.prototype.readByte=function(e){var t=this._buffer[this._recordPos];this._record[e]=t;this.logReadPos(e);this.readed(1);return t};i.prototype.readByteBits=function(e,t,r){var n=this._buffer[this._recordPos];this._record[e]=n>>t;this._record[r]=n&(1<<t)-1;this.logReadPos(e);this.logReadPos(r);this.readed(1);return n};i.prototype.readNibbles=function(e,t){return this.readByteBits(e,4,t)};i.readInt16LE=function(e,t){var r=e[t+1];var n=e[t];var i=r&1<<7;var o=(r&255)<<8|n&255;if(i){o=4294901760|o}return o};i.prototype.readSignedInt=function(e){var t=i.readInt16LE(this._buffer,this._recordPos);this._record[e]=t;this.logReadPos(e);this.readed(2);return t};i.validString=function(e){var t=/[^\x09\x0A\x0D\x20-\xFF]/g;return e?e.replace(t," "):""};i.prototype.read=function(e,t){var r=n.prototype.read.call(this,e,t);this._recordHex="";return r};return i}(n.RecordReader);t.BinaryRecordReader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RecordReader=void 0;var n=function(){function e(e,t){this._buffer=e;this._logger=t}Object.defineProperty(e.prototype,"record",{get:function(){return this._record},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"buffer",{get:function(){return this._buffer},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"recordPos",{get:function(){return this._recordPos},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"filePos",{get:function(){return this._filePos},enumerable:false,configurable:true});e.prototype.read=function(e,t){var r=this._record=this.createRecord(t);this._recordPos=0;this._filePos=e;return r};e.prototype.createRecord=function(e){return{id:e}};return e}();t.RecordReader=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Logger=void 0;var n=function(){function e(){this.reset()}e.prototype.onLog=function(e){this.logCb=e};e.prototype.onError=function(e){this.logError=e};Object.defineProperty(e.prototype,"autoFlush",{set:function(e){this._autoFlush=e},enumerable:false,configurable:true});e.prototype.log=function(e,t,r,n){if(t===void 0){t=true}if(r===void 0){r=true}if(n===void 0){n=this.logCb}while(e.charAt(0)=="\n"){this.logMsg+="\n";e=e.substring(1)}this.logMsg+=(r&&this.prefix?this.prefix:"")+e+(t?"\n":"");if(this._autoFlush){this.flush(n)}};e.prototype.logDebug=function(e){if(this.DEBUG){this.log("DEBUG: "+e)}};e.prototype.error=function(e){this.flush();this.log(e,true,true,this.logError);this.flush(this.logError)};e.prototype.logVerbose=function(e,t){if(t===void 0){t=true}if(this.verbose){this.log(e,t)}return this};e.prototype.reset=function(){this.logMsg=""};e.prototype.flush=function(e){if(e===void 0){e=this.logCb}if(this.logMsg&&e){e(this.logMsg)}this.reset()};return e}();t.Logger=n}]);